<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RICHEN</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="./image/git.png">
    <link rel="stylesheet" href="./css/style.css">
    <meta name="description" content="enRiching GIt doCumentation witH Examples miNed from Stack Overflow">
    
    <link rel="preload" href="./assets/css/0.styles.2ca7c5d3.css" as="style"><link rel="preload" href="./assets/js/app.e311b099.js" as="script"><link rel="preload" href="./assets/js/2.48635caf.js" as="script"><link rel="preload" href="./assets/js/108.ae1670af.js" as="script"><link rel="prefetch" href="./assets/js/10.e1617348.js"><link rel="prefetch" href="./assets/js/100.33cca180.js"><link rel="prefetch" href="./assets/js/101.18976a0a.js"><link rel="prefetch" href="./assets/js/102.8317b37b.js"><link rel="prefetch" href="./assets/js/103.07197de5.js"><link rel="prefetch" href="./assets/js/104.731bc1e4.js"><link rel="prefetch" href="./assets/js/105.c63b5cda.js"><link rel="prefetch" href="./assets/js/106.6d64500a.js"><link rel="prefetch" href="./assets/js/107.41117ce7.js"><link rel="prefetch" href="./assets/js/109.334fc4b2.js"><link rel="prefetch" href="./assets/js/11.d2acd68b.js"><link rel="prefetch" href="./assets/js/110.a423a716.js"><link rel="prefetch" href="./assets/js/111.ec3f4b9d.js"><link rel="prefetch" href="./assets/js/112.99e97bd6.js"><link rel="prefetch" href="./assets/js/113.dca119e6.js"><link rel="prefetch" href="./assets/js/114.62cf553b.js"><link rel="prefetch" href="./assets/js/115.b3dc05f5.js"><link rel="prefetch" href="./assets/js/116.f1ad5266.js"><link rel="prefetch" href="./assets/js/117.9554ab91.js"><link rel="prefetch" href="./assets/js/118.767812f8.js"><link rel="prefetch" href="./assets/js/119.13f74eae.js"><link rel="prefetch" href="./assets/js/12.03eb7f39.js"><link rel="prefetch" href="./assets/js/120.3616df73.js"><link rel="prefetch" href="./assets/js/121.cdacf559.js"><link rel="prefetch" href="./assets/js/122.e46153a3.js"><link rel="prefetch" href="./assets/js/123.18b06bd9.js"><link rel="prefetch" href="./assets/js/124.028e957c.js"><link rel="prefetch" href="./assets/js/125.1499f786.js"><link rel="prefetch" href="./assets/js/126.6d4256ba.js"><link rel="prefetch" href="./assets/js/127.e0aac155.js"><link rel="prefetch" href="./assets/js/128.e58a9c82.js"><link rel="prefetch" href="./assets/js/129.153a8856.js"><link rel="prefetch" href="./assets/js/13.b3c19674.js"><link rel="prefetch" href="./assets/js/130.a53c0b9a.js"><link rel="prefetch" href="./assets/js/131.7828ecc2.js"><link rel="prefetch" href="./assets/js/132.41634721.js"><link rel="prefetch" href="./assets/js/133.2cb44028.js"><link rel="prefetch" href="./assets/js/134.58581a37.js"><link rel="prefetch" href="./assets/js/135.c9380642.js"><link rel="prefetch" href="./assets/js/136.b6ffd3c7.js"><link rel="prefetch" href="./assets/js/137.1a8edb9d.js"><link rel="prefetch" href="./assets/js/138.5fce928f.js"><link rel="prefetch" href="./assets/js/139.71aa88e1.js"><link rel="prefetch" href="./assets/js/14.babb932e.js"><link rel="prefetch" href="./assets/js/140.7f377bd1.js"><link rel="prefetch" href="./assets/js/141.f49215bb.js"><link rel="prefetch" href="./assets/js/142.130e4ba1.js"><link rel="prefetch" href="./assets/js/143.94c54ada.js"><link rel="prefetch" href="./assets/js/144.6ed9cf6e.js"><link rel="prefetch" href="./assets/js/145.3846d48f.js"><link rel="prefetch" href="./assets/js/146.f245fd88.js"><link rel="prefetch" href="./assets/js/147.f2406a95.js"><link rel="prefetch" href="./assets/js/148.39c0e458.js"><link rel="prefetch" href="./assets/js/149.ffa6fd8a.js"><link rel="prefetch" href="./assets/js/15.07fe9b50.js"><link rel="prefetch" href="./assets/js/150.02bb59b1.js"><link rel="prefetch" href="./assets/js/151.37a6afec.js"><link rel="prefetch" href="./assets/js/152.796eec33.js"><link rel="prefetch" href="./assets/js/153.dc7c378e.js"><link rel="prefetch" href="./assets/js/154.cf710861.js"><link rel="prefetch" href="./assets/js/155.c30753e3.js"><link rel="prefetch" href="./assets/js/156.ddce82b2.js"><link rel="prefetch" href="./assets/js/157.069e9f8f.js"><link rel="prefetch" href="./assets/js/16.ef23c91e.js"><link rel="prefetch" href="./assets/js/17.817c34aa.js"><link rel="prefetch" href="./assets/js/18.c6f6e6ed.js"><link rel="prefetch" href="./assets/js/19.cfc0468d.js"><link rel="prefetch" href="./assets/js/20.3546a4ea.js"><link rel="prefetch" href="./assets/js/21.c290e743.js"><link rel="prefetch" href="./assets/js/22.cc04f442.js"><link rel="prefetch" href="./assets/js/23.1a94bca1.js"><link rel="prefetch" href="./assets/js/24.443e3a00.js"><link rel="prefetch" href="./assets/js/25.1a5ee134.js"><link rel="prefetch" href="./assets/js/26.edd51004.js"><link rel="prefetch" href="./assets/js/27.8d0e855e.js"><link rel="prefetch" href="./assets/js/28.17f95192.js"><link rel="prefetch" href="./assets/js/29.e3219a64.js"><link rel="prefetch" href="./assets/js/3.6bd04ed3.js"><link rel="prefetch" href="./assets/js/30.7ddd3774.js"><link rel="prefetch" href="./assets/js/31.671ee6bc.js"><link rel="prefetch" href="./assets/js/32.14e6e041.js"><link rel="prefetch" href="./assets/js/33.694f0624.js"><link rel="prefetch" href="./assets/js/34.a24cb95a.js"><link rel="prefetch" href="./assets/js/35.b9274172.js"><link rel="prefetch" href="./assets/js/36.90de1eb5.js"><link rel="prefetch" href="./assets/js/37.316285c4.js"><link rel="prefetch" href="./assets/js/38.7666fb89.js"><link rel="prefetch" href="./assets/js/39.d325104f.js"><link rel="prefetch" href="./assets/js/4.e3ec6571.js"><link rel="prefetch" href="./assets/js/40.c69344c4.js"><link rel="prefetch" href="./assets/js/41.255ef83a.js"><link rel="prefetch" href="./assets/js/42.93911f6f.js"><link rel="prefetch" href="./assets/js/43.2d2a661b.js"><link rel="prefetch" href="./assets/js/44.fb24dd71.js"><link rel="prefetch" href="./assets/js/45.deac9add.js"><link rel="prefetch" href="./assets/js/46.ac87e5e7.js"><link rel="prefetch" href="./assets/js/47.addfea2d.js"><link rel="prefetch" href="./assets/js/48.5fefec78.js"><link rel="prefetch" href="./assets/js/49.a328b7d6.js"><link rel="prefetch" href="./assets/js/5.dd8b7ea7.js"><link rel="prefetch" href="./assets/js/50.2cbc41fc.js"><link rel="prefetch" href="./assets/js/51.08ce739c.js"><link rel="prefetch" href="./assets/js/52.59af3778.js"><link rel="prefetch" href="./assets/js/53.9ead31f4.js"><link rel="prefetch" href="./assets/js/54.f24de741.js"><link rel="prefetch" href="./assets/js/55.05aa52da.js"><link rel="prefetch" href="./assets/js/56.d43fb632.js"><link rel="prefetch" href="./assets/js/57.7fa6e090.js"><link rel="prefetch" href="./assets/js/58.fb6d6521.js"><link rel="prefetch" href="./assets/js/59.778ade86.js"><link rel="prefetch" href="./assets/js/6.82ef2073.js"><link rel="prefetch" href="./assets/js/60.613c4878.js"><link rel="prefetch" href="./assets/js/61.681c256c.js"><link rel="prefetch" href="./assets/js/62.e943d1b9.js"><link rel="prefetch" href="./assets/js/63.990aaadb.js"><link rel="prefetch" href="./assets/js/64.5759fedf.js"><link rel="prefetch" href="./assets/js/65.f970e42e.js"><link rel="prefetch" href="./assets/js/66.dd24c3d9.js"><link rel="prefetch" href="./assets/js/67.5fb2be90.js"><link rel="prefetch" href="./assets/js/68.ec785420.js"><link rel="prefetch" href="./assets/js/69.1d315c02.js"><link rel="prefetch" href="./assets/js/7.a3b325ca.js"><link rel="prefetch" href="./assets/js/70.d6012aac.js"><link rel="prefetch" href="./assets/js/71.52d01068.js"><link rel="prefetch" href="./assets/js/72.bbe5d2f6.js"><link rel="prefetch" href="./assets/js/73.0d7b6abc.js"><link rel="prefetch" href="./assets/js/74.3b1eeb63.js"><link rel="prefetch" href="./assets/js/75.6afe5c8a.js"><link rel="prefetch" href="./assets/js/76.d9877d60.js"><link rel="prefetch" href="./assets/js/77.5d4a9d5d.js"><link rel="prefetch" href="./assets/js/78.e2ad497a.js"><link rel="prefetch" href="./assets/js/79.697e2354.js"><link rel="prefetch" href="./assets/js/8.e85cc98d.js"><link rel="prefetch" href="./assets/js/80.be1f2dd0.js"><link rel="prefetch" href="./assets/js/81.ce13acd9.js"><link rel="prefetch" href="./assets/js/82.df76b5ac.js"><link rel="prefetch" href="./assets/js/83.3c842d13.js"><link rel="prefetch" href="./assets/js/84.6534a56c.js"><link rel="prefetch" href="./assets/js/85.c0b581a0.js"><link rel="prefetch" href="./assets/js/86.bfbfbed9.js"><link rel="prefetch" href="./assets/js/87.f7e7b93e.js"><link rel="prefetch" href="./assets/js/88.f69371e0.js"><link rel="prefetch" href="./assets/js/89.b970999b.js"><link rel="prefetch" href="./assets/js/9.2cc7c68c.js"><link rel="prefetch" href="./assets/js/90.31b35c49.js"><link rel="prefetch" href="./assets/js/91.8a794555.js"><link rel="prefetch" href="./assets/js/92.4a75f06f.js"><link rel="prefetch" href="./assets/js/93.83c18202.js"><link rel="prefetch" href="./assets/js/94.2d339421.js"><link rel="prefetch" href="./assets/js/95.2dcb1fb2.js"><link rel="prefetch" href="./assets/js/96.8d019eed.js"><link rel="prefetch" href="./assets/js/97.b9ff4345.js"><link rel="prefetch" href="./assets/js/98.316d9923.js"><link rel="prefetch" href="./assets/js/99.0006ac5c.js">
    <link rel="stylesheet" href="./assets/css/0.styles.2ca7c5d3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/./" class="home-link router-link-active"><!----> <span class="site-name">RICHEN</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/./richen/" class="nav-link router-link-active">
  RICHEN
</a></div><div class="nav-item"><a href="https://stackoverflow.com/questions/tagged/git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Stack Overflow
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/./richen/" class="nav-link router-link-active">
  RICHEN
</a></div><div class="nav-item"><a href="https://stackoverflow.com/questions/tagged/git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Stack Overflow
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Enchied Git Documentation</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./richen/git-add.html" class="sidebar-link">git add</a></li><li><a href="/./richen/git-am.html" class="sidebar-link">git am</a></li><li><a href="/./richen/git-annotate.html" class="sidebar-link">git annotate</a></li><li><a href="/./richen/git-apply.html" class="sidebar-link">git apply</a></li><li><a href="/./richen/git-archimport.html" class="sidebar-link">git archimport</a></li><li><a href="/./richen/git-archive.html" class="sidebar-link">git archive</a></li><li><a href="/./richen/git-bisect.html" class="sidebar-link">git bisect</a></li><li><a href="/./richen/git-blame.html" class="sidebar-link">git blame</a></li><li><a href="/./richen/git-branch.html" class="sidebar-link">git branch</a></li><li><a href="/./richen/git-bugreport.html" class="sidebar-link">git bugreport</a></li><li><a href="/./richen/git-bundle.html" class="sidebar-link">git bundle</a></li><li><a href="/./richen/git-cat-file.html" class="sidebar-link">git cat-file</a></li><li><a href="/./richen/git-check-attr.html" class="sidebar-link">git check-attr</a></li><li><a href="/./richen/git-check-ignore.html" class="sidebar-link">git check-ignore</a></li><li><a href="/./richen/git-check-mailmap.html" class="sidebar-link">git check-mailmap</a></li><li><a href="/./richen/git-check-ref-format.html" class="sidebar-link">git check-ref-format</a></li><li><a href="/./richen/git-checkout.html" class="sidebar-link">git checkout</a></li><li><a href="/./richen/git-checkout-index.html" class="sidebar-link">git checkout-index</a></li><li><a href="/./richen/git-cherry.html" class="sidebar-link">git cherry</a></li><li><a href="/./richen/git-cherry-pick.html" class="sidebar-link">git cherry-pick</a></li><li><a href="/./richen/git-citool.html" class="sidebar-link">git citool</a></li><li><a href="/./richen/git-clean.html" class="sidebar-link">git clean</a></li><li><a href="/./richen/git-clone.html" class="sidebar-link">git clone</a></li><li><a href="/./richen/git-column.html" class="sidebar-link">git column</a></li><li><a href="/./richen/git-commit.html" class="sidebar-link">git commit</a></li><li><a href="/./richen/git-commit-graph.html" class="sidebar-link">git commit-graph</a></li><li><a href="/./richen/git-commit-tree.html" class="sidebar-link">git commit-tree</a></li><li><a href="/./richen/git-config.html" class="sidebar-link">git config</a></li><li><a href="/./richen/git-count-objects.html" class="sidebar-link">git count-objects</a></li><li><a href="/./richen/git-credential.html" class="sidebar-link">git credential</a></li><li><a href="/./richen/git-credential-cache.html" class="sidebar-link">git credential-cache</a></li><li><a href="/./richen/git-credential-store.html" class="sidebar-link">git credential-store</a></li><li><a href="/./richen/git-cvsexportcommit.html" class="sidebar-link">git cvsexportcommit</a></li><li><a href="/./richen/git-cvsimport.html" class="sidebar-link">git cvsimport</a></li><li><a href="/./richen/git-cvsserver.html" class="sidebar-link">git cvsserver</a></li><li><a href="/./richen/git-daemon.html" class="sidebar-link">git daemon</a></li><li><a href="/./richen/git-describe.html" class="sidebar-link">git describe</a></li><li><a href="/./richen/git-diff.html" class="sidebar-link">git diff</a></li><li><a href="/./richen/git-diff-files.html" class="sidebar-link">git diff-files</a></li><li><a href="/./richen/git-diff-index.html" class="sidebar-link">git diff-index</a></li><li><a href="/./richen/git-diff-tree.html" class="sidebar-link">git diff-tree</a></li><li><a href="/./richen/git-difftool.html" class="sidebar-link">git difftool</a></li><li><a href="/./richen/git-fast-export.html" class="sidebar-link">git fast-export</a></li><li><a href="/./richen/git-fast-import.html" class="sidebar-link">git fast-import</a></li><li><a href="/./richen/git-fetch.html" class="sidebar-link">git fetch</a></li><li><a href="/./richen/git-fetch-pack.html" class="sidebar-link">git fetch-pack</a></li><li><a href="/./richen/git-filter-branch.html" class="sidebar-link">git filter-branch</a></li><li><a href="/./richen/git-fmt-merge-msg.html" class="sidebar-link">git fmt-merge-msg</a></li><li><a href="/./richen/git-for-each-ref.html" class="sidebar-link">git for-each-ref</a></li><li><a href="/./richen/git-for-each-repo.html" class="sidebar-link">git for-each-repo</a></li><li><a href="/./richen/git-format-patch.html" class="sidebar-link">git format-patch</a></li><li><a href="/./richen/git-fsck.html" class="sidebar-link">git fsck</a></li><li><a href="/./richen/git-gc.html" class="sidebar-link">git gc</a></li><li><a href="/./richen/git-get-tar-commit-id.html" class="sidebar-link">git get-tar-commit-id</a></li><li><a href="/./richen/git-grep.html" class="sidebar-link">git grep</a></li><li><a href="/./richen/git-gui.html" class="sidebar-link">git gui</a></li><li><a href="/./richen/git-hash-object.html" class="sidebar-link">git hash-object</a></li><li><a href="/./richen/git-help.html" class="sidebar-link">git help</a></li><li><a href="/./richen/git-http-backend.html" class="sidebar-link">git http-backend</a></li><li><a href="/./richen/git-http-fetch.html" class="sidebar-link">git http-fetch</a></li><li><a href="/./richen/git-http-push.html" class="sidebar-link">git http-push</a></li><li><a href="/./richen/git-imap-send.html" class="sidebar-link">git imap-send</a></li><li><a href="/./richen/git-index-pack.html" class="sidebar-link">git index-pack</a></li><li><a href="/./richen/git-init.html" class="sidebar-link">git init</a></li><li><a href="/./richen/git-instaweb.html" class="sidebar-link">git instaweb</a></li><li><a href="/./richen/git-interpret-trailers.html" class="sidebar-link">git interpret-trailers</a></li><li><a href="/./richen/git-log.html" class="sidebar-link">git log</a></li><li><a href="/./richen/git-ls-files.html" class="sidebar-link">git ls-files</a></li><li><a href="/./richen/git-ls-remote.html" class="sidebar-link">git ls-remote</a></li><li><a href="/./richen/git-ls-tree.html" class="sidebar-link">git ls-tree</a></li><li><a href="/./richen/git-mailinfo.html" class="sidebar-link">git mailinfo</a></li><li><a href="/./richen/git-mailsplit.html" class="sidebar-link">git mailsplit</a></li><li><a href="/./richen/git-maintenance.html" class="sidebar-link">git maintenance</a></li><li><a href="/./richen/git-merge.html" class="sidebar-link">git merge</a></li><li><a href="/./richen/git-merge-base.html" class="sidebar-link">git merge-base</a></li><li><a href="/./richen/git-merge-file.html" class="sidebar-link">git merge-file</a></li><li><a href="/./richen/git-merge-index.html" class="sidebar-link">git merge-index</a></li><li><a href="/./richen/git-merge-one-file.html" class="sidebar-link">git merge-one-file</a></li><li><a href="/./richen/git-merge-tree.html" class="sidebar-link">git merge-tree</a></li><li><a href="/./richen/git-mergetool.html" class="sidebar-link">git mergetool</a></li><li><a href="/./richen/git-mktag.html" class="sidebar-link">git mktag</a></li><li><a href="/./richen/git-mktree.html" class="sidebar-link">git mktree</a></li><li><a href="/./richen/git-multi-pack-index.html" class="sidebar-link">git multi-pack-index</a></li><li><a href="/./richen/git-mv.html" class="sidebar-link">git mv</a></li><li><a href="/./richen/git-name-rev.html" class="sidebar-link">git name-rev</a></li><li><a href="/./richen/git-notes.html" class="sidebar-link">git notes</a></li><li><a href="/./richen/git-p4.html" class="sidebar-link">git p4</a></li><li><a href="/./richen/git-pack-objects.html" class="sidebar-link">git pack-objects</a></li><li><a href="/./richen/git-pack-redundant.html" class="sidebar-link">git pack-redundant</a></li><li><a href="/./richen/git-pack-refs.html" class="sidebar-link">git pack-refs</a></li><li><a href="/./richen/git-patch-id.html" class="sidebar-link">git patch-id</a></li><li><a href="/./richen/git-prune.html" class="sidebar-link">git prune</a></li><li><a href="/./richen/git-prune-packed.html" class="sidebar-link">git prune-packed</a></li><li><a href="/./richen/git-pull.html" class="sidebar-link">git pull</a></li><li><a href="/./richen/git-push.html" class="sidebar-link">git push</a></li><li><a href="/./richen/git-quiltimport.html" class="sidebar-link">git quiltimport</a></li><li><a href="/./richen/git-range-diff.html" class="sidebar-link">git range-diff</a></li><li><a href="/./richen/git-read-tree.html" class="sidebar-link">git read-tree</a></li><li><a href="/./richen/git-rebase.html" aria-current="page" class="active sidebar-link">git rebase</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#onto" class="sidebar-link">ğŸ”¹ --onto</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#continue" class="sidebar-link">ğŸ”¹ --continue</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#abort" class="sidebar-link">ğŸ”¹ --abort</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#keep-empty" class="sidebar-link">ğŸ”¹ --keep-empty</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#reapply-cherry-picks" class="sidebar-link">ğŸ”¹ --reapply-cherry-picks</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#skip" class="sidebar-link">ğŸ”¹ --skip</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#edit-todo" class="sidebar-link">ğŸ”¹ --edit-todo</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#merge" class="sidebar-link">ğŸ”¹ --merge</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#s" class="sidebar-link">ğŸ”¹ -s</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#strategy" class="sidebar-link">ğŸ”¹ --strategy</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#x" class="sidebar-link">ğŸ”¹ -X</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#strategy-option" class="sidebar-link">ğŸ”¹ --strategy-option</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#c" class="sidebar-link">ğŸ”¹ -C</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#no-ff" class="sidebar-link">ğŸ”¹ --no-ff</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#force-rebase" class="sidebar-link">ğŸ”¹ --force-rebase</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#f" class="sidebar-link">ğŸ”¹ -f</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#fork-point" class="sidebar-link">ğŸ”¹ --fork-point</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#no-fork-point" class="sidebar-link">ğŸ”¹ --no-fork-point</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#whitespace" class="sidebar-link">ğŸ”¹ --whitespace</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#committer-date-is-author-date" class="sidebar-link">ğŸ”¹ --committer-date-is-author-date</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#ignore-date" class="sidebar-link">ğŸ”¹ --ignore-date</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#i" class="sidebar-link">ğŸ”¹ -i</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#interactive" class="sidebar-link">ğŸ”¹ --interactive</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#r" class="sidebar-link">ğŸ”¹ -r</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#rebase-merges" class="sidebar-link">ğŸ”¹ --rebase-merges</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#exec" class="sidebar-link">ğŸ”¹ --exec</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#root" class="sidebar-link">ğŸ”¹ --root</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#autosquash" class="sidebar-link">ğŸ”¹ --autosquash</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#autostash" class="sidebar-link">ğŸ”¹ --autostash</a></li><li class="sidebar-sub-header"><a href="/./richen/git-rebase.html#none" class="sidebar-link">ğŸ”¹None</a></li></ul></li><li><a href="/./richen/git-receive-pack.html" class="sidebar-link">git receive-pack</a></li><li><a href="/./richen/git-reflog.html" class="sidebar-link">git reflog</a></li><li><a href="/./richen/git-remote.html" class="sidebar-link">git remote</a></li><li><a href="/./richen/git-repack.html" class="sidebar-link">git repack</a></li><li><a href="/./richen/git-replace.html" class="sidebar-link">git replace</a></li><li><a href="/./richen/git-request-pull.html" class="sidebar-link">git request-pull</a></li><li><a href="/./richen/git-rerere.html" class="sidebar-link">git rerere</a></li><li><a href="/./richen/git-reset.html" class="sidebar-link">git reset</a></li><li><a href="/./richen/git-restore.html" class="sidebar-link">git restore</a></li><li><a href="/./richen/git-rev-list.html" class="sidebar-link">git rev-list</a></li><li><a href="/./richen/git-rev-parse.html" class="sidebar-link">git rev-parse</a></li><li><a href="/./richen/git-revert.html" class="sidebar-link">git revert</a></li><li><a href="/./richen/git-rm.html" class="sidebar-link">git rm</a></li><li><a href="/./richen/git-send-email.html" class="sidebar-link">git send-email</a></li><li><a href="/./richen/git-send-pack.html" class="sidebar-link">git send-pack</a></li><li><a href="/./richen/git-sh-i18n.html" class="sidebar-link">git sh-i18n</a></li><li><a href="/./richen/git-sh-setup.html" class="sidebar-link">git sh-setup</a></li><li><a href="/./richen/git-shell.html" class="sidebar-link">git shell</a></li><li><a href="/./richen/git-shortlog.html" class="sidebar-link">git shortlog</a></li><li><a href="/./richen/git-show.html" class="sidebar-link">git show</a></li><li><a href="/./richen/git-show-branch.html" class="sidebar-link">git show-branch</a></li><li><a href="/./richen/git-show-index.html" class="sidebar-link">git show-index</a></li><li><a href="/./richen/git-show-ref.html" class="sidebar-link">git show-ref</a></li><li><a href="/./richen/git-sparse-checkout.html" class="sidebar-link">git sparse-checkout</a></li><li><a href="/./richen/git-stash.html" class="sidebar-link">git stash</a></li><li><a href="/./richen/git-status.html" class="sidebar-link">git status</a></li><li><a href="/./richen/git-stripspace.html" class="sidebar-link">git stripspace</a></li><li><a href="/./richen/git-submodule.html" class="sidebar-link">git submodule</a></li><li><a href="/./richen/git-svn.html" class="sidebar-link">git svn</a></li><li><a href="/./richen/git-switch.html" class="sidebar-link">git switch</a></li><li><a href="/./richen/git-symbolic-ref.html" class="sidebar-link">git symbolic-ref</a></li><li><a href="/./richen/git-tag.html" class="sidebar-link">git tag</a></li><li><a href="/./richen/git-unpack-file.html" class="sidebar-link">git unpack-file</a></li><li><a href="/./richen/git-unpack-objects.html" class="sidebar-link">git unpack-objects</a></li><li><a href="/./richen/git-update-index.html" class="sidebar-link">git update-index</a></li><li><a href="/./richen/git-update-ref.html" class="sidebar-link">git update-ref</a></li><li><a href="/./richen/git-update-server-info.html" class="sidebar-link">git update-server-info</a></li><li><a href="/./richen/git-upload-archive.html" class="sidebar-link">git upload-archive</a></li><li><a href="/./richen/git-upload-pack.html" class="sidebar-link">git upload-pack</a></li><li><a href="/./richen/git-var.html" class="sidebar-link">git var</a></li><li><a href="/./richen/git-verify-commit.html" class="sidebar-link">git verify-commit</a></li><li><a href="/./richen/git-verify-pack.html" class="sidebar-link">git verify-pack</a></li><li><a href="/./richen/git-verify-tag.html" class="sidebar-link">git verify-tag</a></li><li><a href="/./richen/git-version.html" class="sidebar-link">git version</a></li><li><a href="/./richen/git-whatchanged.html" class="sidebar-link">git whatchanged</a></li><li><a href="/./richen/git-worktree.html" class="sidebar-link">git worktree</a></li><li><a href="/./richen/git-write-tree.html" class="sidebar-link">git write-tree</a></li><li><a href="/./richen/gitk.html" class="sidebar-link">gitk</a></li><li><a href="/./richen/gitweb.html" class="sidebar-link">gitweb</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>ğŸ“– 125 min read Â  Â ğŸ”¡ 24907<br></p></div> <h1 id="git-rebase-reapply-commits-on-top-of-another-base-tip"><a href="#git-rebase-reapply-commits-on-top-of-another-base-tip" class="header-anchor">#</a> ğŸ“Œ git rebase - Reapply commits on top of another base tip</h1> <h2 id="onto"><a href="#onto" class="header-anchor">#</a> ğŸ”¹ --onto</h2> <p><strong>1. Usage scenario: How to cherry-pick a range of commits and merge them into another branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 914Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a>, <a href="/./richen/git-rev-list.html">git rev-list</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/1994491" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² As mentioned below by Keith Kim, Git 1.7.2+ introduced the ability to cherry-pick a range of commits (but you still need to be aware of the consequence of cherry-picking for future merge)
â–² Note: as of Git 2.9.x/2.10 (Q3 2016), you can cherry-pick a range of commit directly on an orphan branch (empty head): see <span class="token string">&quot;How to make existing branch an orphan in git&quot;</span>.
<span class="token comment"># Checkout a new temporary branch at the current location</span>
git checkout -b tmp

<span class="token comment"># Move the integration branch to the head of the new patchset</span>
git branch -f integration last_SHA-1_of_working_branch_range

<span class="token comment"># Rebase the patchset onto tmp, the old location of integration</span>
git rebase --onto tmp first_SHA-1_of_working_branch_range~1 integration

git rev-list --reverse --topo-order B^..D | while read rev 
do 
  git cherry-pick $rev || break 
done 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>2. Usage scenario: Change first commit of project with Git?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 881Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/2309391" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto &lt;tmp branch&gt; &lt;commit after changed&gt; &lt;branch&gt;`
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>3. Usage scenario: Squash the first two commits in Git?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 850Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-tag.html">git tag</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/598788" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i --root master

pick sha1 X
squash sha1 Y
pick sha1 Z

 git checkout &lt;sha1_for_B&gt;

 git reset --soft &lt;sha1_for_A&gt;

 git commit --amend

 git tag tmp

 git checkout master

 git rebase --onto tmp &lt;sha1_for_B&gt;

 git tag -d tmp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>4. Usage scenario: How to copy commits from one branch to another?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 686Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-merge.html">git merge</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/2474371" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># wss-starting-point is the SHA1/branch immediately before the first commit to rebase</span>
git branch wss-to-rebase wss
git rebase --onto v2.1 wss-starting-point wss-to-rebase
git checkout v2.1
git merge wss-to-rebase
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>5. Usage scenario: How to git rebase a branch with the onto command?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 511Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/29916361" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² tl;dr
git checkout B
git rebase --onto A B^

â–² The Quick: git rebase
          Before                           After
    A---B---C---F---G (branch)        A---B---C---F---G (branch)
             \                                         \
              D---E (HEAD)                              D---E (HEAD)

â–² The Precise: git rebase --onto with 2 arguments
          Before                           After
    A---B---C---F---G (branch)        A---B---C---F---G (branch)
             \                                     \
              D---E---H---I (HEAD)                  E---H---I (HEAD)

          Before                       After
    A---B---C---E---F (HEAD)        A---B---F (HEAD)

â–² The Surgeon: git rebase --onto with 3 arguments
          Before                                     After
    A---B---C---F---G (branch)                A---B---C---F---G (branch)
             \                                             \
              D---E---H---I (HEAD)                          E---H (HEAD)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><strong>6. Usage scenario: Edit the root commit in Git?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 314Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-commit.html">git commit</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/2119656" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># checkout the root commit</span>
git checkout &lt;sha1-of-root&gt;

<span class="token comment"># amend the commit</span>
git commit --amend

<span class="token comment"># rebase all the other commits in master onto the amended root</span>
git rebase --onto HEAD HEAD master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>7. Usage scenario: Have I lost my changes after rebasing?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 219Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/13155341" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto master &lt;commit id for 6&gt; my_branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>8. Usage scenario: Reordering of commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 165Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a>, <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/2740812" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i &lt;SHA1 of commit a&gt;^ branchA

git checkout branchB
git cherry-pick branchA  # cherry-pick one commit, the tip of branchA

git checkout master
git cherry-pick branchA^

git branch -f branchA branchA^^

<span class="token comment"># create a temporary branch</span>
git branch fromAtoB branchA
<span class="token comment"># move branchA back two commits</span>
git branch -f branchA branchA~2
<span class="token comment"># rebase those two commits onto branchB</span>
git rebase --onto branchB branchA fromAtoB
<span class="token comment"># merge (fast-forward) these into branchB</span>
git checkout branchB
git merge fromAtoB
<span class="token comment"># clean up</span>
git branch -d fromAtoB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>9. Usage scenario: How to rebase a branch off a rebased branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 77Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-log.html">git log</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/31882353" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² Short answer to How can I effectively rebase B off A so that it looks like B started from A?
Assuming you want to move exactly one commit:
git rebase --onto A B~ B

â–² If you want to move more then one commit use:
git rebase --onto A old_A B

git log --graph --decorate --all

o---o---o---o  master
     \
      o---o---o  A
               \
                o B

o---o---o-----------o  master
     \               \
      o---o---o(B~)   o---o---o A
               \
                o B

git rebase --onto [target] [rebasing stops] [rebasing head]
git rebase --onto A B~ B

o---o---o----------o  master
     \              \
      o---o---o      o---o---o A
            (old_A)           \
                               o B

â–² Alternatively, if B was the only commit that had A as a parent, (i.e., B is the end of a chain of commits that branch off master) you could do
git checkout B
git rebase master
git checkout B~   # this is the commit before B (the A commit)
git branch -d A   # remove the old A branch (it was rebased, and so is now invalid
git branch A      # recreate the A branch on the commit that is based on the original A
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p><strong>10. Usage scenario: How do I recover/resynchronise after someone pushes a rebase or a reset to a published branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 75Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-reflog.html">git reflog</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-fetch.html">git fetch</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/4084870" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout foo
git branch old-foo origin/foo # BEFORE fetching!!
git fetch
git rebase --onto origin/foo old-foo foo
git branch -D old-foo

git reflog show origin/foo | awk '
    PRINT_NEXT==1 { print $1; exit }
    /fetch: forced-update/ { PRINT_NEXT=1 }'

git rebase --onto origin/foo $commit foo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>11. Usage scenario: How to change the starting point of a branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 70Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/38430972" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² The term <span class="token string">&quot;branch&quot;</span>, in Git, is ambiguous
â–² Draw your commit graph
...--o--o--o           &lt;-- master
         \
          o--o--o--o   &lt;-- develop

...--A--B--C           &lt;-- master
         \
          D--E--F--G   &lt;-- develop

â–² Where does a branch begin?
          o             &lt;-- X
         /
...--o--o--o--o--o--o   &lt;-- Y

          C             &lt;-- X
         /
...--A--B--D--E--F--G   &lt;-- Y

          C            &lt;-- X
         /
...--A--B
         \
          D--E--F--G   &lt;-- Y

â–² In Git, commits may be on many branches simultaneously; DAGlets are up to you
â–² Normally we use the two-dot X..Y syntax
â–² Git's rebase is a little bit special
...--A--B--C           &lt;-- master
         \
          D--E--F--G   &lt;-- develop

...--A--B--C              &lt;-- master
            \
             D<span class="token string">'-E'</span>-F<span class="token string">'-G'</span>  &lt;-- develop

<span class="token command">$ git checkout develop</span>

<span class="token command">$ git rebase master</span>

â–² Branch names are unique, but tip commits are not necessarily so
          o--o--o--o     &lt;-- brA
         /
...--o--o--o--o--o--o    &lt;-- brB
            \
             o--o--o     &lt;-- brC
                 \
                  o--o   &lt;-- brD

          o--o--o--o     &lt;-- brA, newbranch
         /
...--o--o--o--o--o--o    &lt;-- brB
            \
             o--o--o     &lt;-- brC
                 \
                  o--o   &lt;-- brD

          o--o--o--o     &lt;-- brA, HEAD -&gt; newbranch
         /
...--o--o--o--o--o--o    &lt;-- brB
            \
             o--o--o     &lt;-- brC
                 \
                  o--o   &lt;-- brD

â–² When we make new commits, the current name moves
                     o   &lt;-- HEAD -&gt; newbranch
                    /
          o--o--o--o     &lt;-- brA
         /
...--o--o--o--o--o--o    &lt;-- brB
            \
             o--o--o     &lt;-- brC
                 \
                  o--o   &lt;-- brD

â–² What git branch -f does
<span class="token command">$ git branch<span class="token parameter"> -f</span> brB brC</span>

                     o   &lt;-- HEAD -&gt; newbranch
                    /
          o--o--o--o     &lt;-- brA
         /
...--o--o--o--o--o--o    [abandoned]
            \
             o--o--o     &lt;-- brC, brB
                 \
                  o--o   &lt;-- brD

â–² Reflogs
<span class="token command">$ git branch<span class="token parameter"> -f</span> brB </span><span class="token string">'brB@{1}'</span>
    # you may not need the quotes, <span class="token string">'brB@{...}'</span> --
    # I need them in my shell, otherwise the shell
    # eats the braces.  Some shells do, some don't.

          o--o--o--o     &lt;-- brA
         /
...--o--o--o--o--o--o    &lt;-- brB
            \
             o--o--o     &lt;-- HEAD -&gt; brC
                 \
                  o--o   &lt;-- brD

          o--o--o--o     &lt;-- brA
         /
...--o--o--o--o--o--o    &lt;-- brB
            \
             o--o--o     &lt;-- brC, HEAD -&gt; newbranch
                 \
                  o--o   &lt;-- brD

          o--o--o--o     &lt;-- brA
         /
...--o--o--o--o--o--o    &lt;-- brB
            \
             o--o--o     &lt;-- brC
                 \  \
                 |   o   &lt;-- HEAD -&gt; newbranch
                 \
                  o--o   &lt;-- brD

â–² A simple git rebase copies too much
          o--o--o--o     &lt;-- brA
         /
...--*--*--*--o--o--o    &lt;-- brB
            \
             *--*--*     &lt;-- brC
                 \  \
                 |   *   &lt;-- HEAD -&gt; newbranch
                 \
                  o--o   &lt;-- brD

          x--x--x--x     &lt;-- brA
         /
...--x--x--*--o--o--o    &lt;-- brB
            \
             *--*--*     &lt;-- brC
                 \  \
                 |   *   &lt;-- HEAD -&gt; newbranch
                 \
                  o--o   &lt;-- brD

<span class="token command">$ git branch   # just checking...</span>
  brA
  brB
  brC
  brD
  master
* newbranch

<span class="token command">$ git rebase<span class="token parameter"> --onto</span> brA brC</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br></div></div><p><strong>12. Usage scenario: How to rebase last x commits on different branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 56Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/36967662" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i HEAD~10 --onto another_branch

git checkout -b staging_branch
git rebase -i HEAD~10 --onto another_branch
git checkout another_branch
git merge staging_branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>13. Usage scenario: Git: created new branch from a wrong branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 56Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-log.html">git log</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/8430897" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout new-feature2  
git rebase --onto develop new-feature new-feature2
<span class="token comment"># rebase the stuff from new-feature to new-feature2 onto develop branch</span>

git checkout develop
git log --oneline new-feature..new-feature2 
<span class="token comment"># for every commit call:</span>
git cherry-pick &lt;commit-id&gt; # note, newer versions of cherry-pick allow multiple commits at once
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>14. Usage scenario: git rebase: copy instead of moving</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 53Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/19705736" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git branch rebased-A hotfix/A
git rebase --onto support.2013.16 master rebased-A
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>15. Usage scenario: Remove commits before specific commit</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 29Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-write-tree.html">git write-tree</a>, <a href="/./richen/git-commit-tree.html">git commit-tree</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-gc.html">git gc</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/3063486" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout -b oldroot X
TREE=`git write-tree`
COMMIT=`echo <span class="token string">&quot;Killed history&quot;</span> | git commit-tree <span class="token string">&quot;$TREE&quot;</span>`
git checkout -b newroot <span class="token string">&quot;$COMMIT&quot;</span>
git rebase --onto newroot oldroot master
<span class="token comment"># repeat for other branches than master that should use the new initial commit</span>
git checkout master
git branch -D oldroot
git branch -D newroot
git gc # WARNING: if everything's done right, this will actually delete your history from the repo!
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>16. Usage scenario: How can I rebase multiple branches at once?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 29Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/23399436" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto master exp1
git rebase --onto c2' c2 exp2
git rebase --onto c1' c1 exp3
git rebase --onto master exp4
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>17. Usage scenario: Remove commits from a single branch in Git</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 29Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a>, <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/7259570" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout feature2
git rebase --onto master feature1 feature2

git checkout feature2
git rebase --onto D H feature2

git checkout feature1
git rest --hard H

git merge K'

A - B - C - D - - - - - - - - - - - - - - - - - - - L - M  master  
            |\
            | \ - I<span class="token string">' - J'</span> - - - - - - - K' feature2
            \                             \
             - - - - - - - E - F - G - H - Z feature1

git cherry-pick O
git cherry-pick P
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>18. Usage scenario: Moving commits from one branch to another</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 27Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/4121055" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># move cba onto e</span>
git branch foo
git rebase --onto &lt;SHA1-e&gt; &lt;SHA1-d&gt; foo

<span class="token comment"># rewind master to d</span>
git checkout master
git reset --hard &lt;SHA1-d&gt;

<span class="token comment"># merge</span>
git merge foo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>19. Usage scenario: How to git commit --amend a commit that's the base of a branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 26Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-reflog.html">git reflog</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/11857478" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto master SOMESHA foo

git rebase --onto master cccccc foo

&gt; git reflog master

aaaaaa master@{0}: reset: moving to something
cccccc master@{1}: commit: change the froozle
ffffff master@{2}: commit: snarf the froozle 

git rebase --onto master master@{1} foo

git rebase --onto master foo^ foo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>20. Usage scenario: Getting git to never push a single commit?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 22Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/7235494" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># (no local config changes should be in master at this point)</span>
git checkout -b config-changes master
<span class="token comment"># Make your config-related changes that you don't want to share</span>
git commit -am <span class="token string">&quot;Made local config changes&quot;</span>
git checkout -b daily-work
<span class="token comment"># Work and commit like normal</span>

git rebase --onto master config-changes daily-work
git checkout master
git merge daily-work

git checkout master
git pull
git checkout config-changes
git merge master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>21. Usage scenario: git pull --rebase lost commits after coworker's git push --force</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 20Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-merge-base.html">git merge-base</a>, <a href="/./richen/git-log.html">git log</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/42546368" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² TL;DR: it's the fork point code
git rebase @{u}

git rebase --no-fork-point

â–² About git pull (don't use it)
 + 5122532...6f1308f pu         -&gt; origin/pu  (forced update)

â–² Basics of git rebase
            D   &lt;-- master

... &lt;- C &lt;- D   &lt;-- master

...--o--o   &lt;-- branch

A--B--C--D     &lt;-- master
    \
     E--F--G   &lt;-- branch

           E'  &lt;-- (temporary)
          /
A--B--C--D     &lt;-- master
    \
     E--F--G   &lt;-- branch

           E<span class="token string">'-F'</span>-G'  &lt;-- branch
          /
A--B--C--D           &lt;-- master
    \
     E--F--G         [abandoned]

â–² Determining what to copy
A--B--C--D     &lt;-- master
    \
     E--F--G   &lt;-- branch

git checkout branch; git rebase master

git rebase --onto &lt;newbase&gt; &lt;upstream&gt;

â–² The --fork-point option
git merge-base $arg2 $(git log -g --format=%H $arg1)

...--o--B1--B2--B3--C--D    &lt;-- upstream
                 \
                  E--F--G   &lt;-- branch

...--o-------------C--D     &lt;-- upstream
      \
       B1--B2--B3           &lt;-- upstream@{1}
                \
                 E--F--G    &lt;-- branch

...--o-------------C--D     &lt;-- upstream
      \
       B1--B2--B3--E--F--G  &lt;-- branch

$ arg1=origin/next
$ arg2=stash-exp
<span class="token command">$ git merge-base<span class="token parameter"> --all</span> $arg2 $(git log<span class="token parameter"> -g</span><span class="token parameter"> --format</span>=%H $arg1)</span>
3313b78c145ba9212272b5318c111cde12bfef4a
<span class="token command">$ git merge-base<span class="token parameter"> --fork</span>-point $arg1 $arg2</span>
$ echo $?
1

â–² Git before 2.0, and conclusion
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div><p><strong>22. Usage scenario: How to add a file to the first commit on a git repo?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 20Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-tag.html">git tag</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/9971256" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># Go back to the commit you want to change (detach HEAD)</span>
git checkout &lt;sha1_for_commit_to_change&gt;

<span class="token comment"># Make any changes now (add your new file) then add them to the index</span>
git add &lt;new_files&gt;

<span class="token comment"># amend the current commit</span>
git commit --amend

<span class="token comment"># temporarily tag this new commit</span>
<span class="token comment"># (or you could remember the new commit sha1 manually)</span>
git tag tmp

<span class="token comment"># go back to the original branch (assume master for this example)</span>
git checkout master

<span class="token comment"># Replay all the commits after the change onto the new initial commit</span>
git rebase --preserve-merges --onto tmp &lt;sha1_for_commit_to_change&gt;

<span class="token comment"># remove the temporary tag</span>
git tag -d tmp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>23. Usage scenario: How to delete all Git commits except the last five</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 18Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-version.html">git version</a>, <a href="/./richen/git-config.html">git config</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-log.html">git log</a>, <a href="/./richen/git-gc.html">git gc</a>, <a href="/./richen/git-rev-parse.html">git rev-parse</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/11937116" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git config<span class="token parameter"> --global</span> alias.rebase-last-five </span><span class="token string">'!b=&quot;$(git branch --no-color | cut -c3-)&quot; ; h=&quot;$(git rev-parse $b)&quot; ; echo &quot;Current branch: $b $h&quot; ; c=&quot;$(git rev-parse $b~4)&quot; ; echo &quot;Recreating $b branch with initial commit $c ...&quot; ; git checkout --orphan new-start $c ; git commit -C $c ; git rebase --onto new-start $c $b ; git branch -d new-start ; git gc'</span>

<span class="token command">$ git<span class="token parameter"> --version</span></span>
git version 1.7.12.rc2.16.g034161a
<span class="token command">$ git log<span class="token parameter"> --all</span><span class="token parameter"> --graph</span><span class="token parameter"> --decorate</span><span class="token parameter"> --oneline</span></span>
* e4b2337 (HEAD, master) 9
* e508980 8
* 01927dd 7
* 75c0fdb 6
* 20edb42 5
* 1260648 4
* b3d6cc8 3
* 187a0ef 2
* e5d09cf 1
* 07bf1e2 initial
<span class="token command">$ git rebase-last-five </span>
Current branch: master e4b2337ef33d446bbb48cbc86b44afc964ba0712
Recreating master branch with initial commit 20edb42a06ae987463016e7f2c08e9df10fd94a0 ...
Switched to a new branch <span class="token string">'new-start'</span>
[new-start (root-commit) 06ed4d5] 5
 1 file changed, 1 insertion(+)
 create mode 100644 A
First, rewinding head to replay your work on top of it...
Applying: 6
Applying: 7
Applying: 8
Applying: 9
Deleted branch new-start (was 06ed4d5).
Counting objects: 35, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (15/15), done.
Writing objects: 100% (35/35), done.
Total 35 (delta 4), reused 0 (delta 0)
<span class="token command">$ git log<span class="token parameter"> --all</span><span class="token parameter"> --graph</span><span class="token parameter"> --decorate</span><span class="token parameter"> --oneline</span></span>
* a7fb54b (HEAD, master) 9
* 413e5b0 8
* 638a1ae 7
* 9949c28 6
* 06ed4d5 5
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p><strong>24. Usage scenario: Rebasing dependent topic branches</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 18Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/1546680" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto featureA oldFeatureA featureB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>25. Usage scenario: How to make a git rebase and keep the commit timestamp?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 17Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-filter-branch.html">git filter-branch</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-log.html">git log</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/30819930" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² The setup
... o - o - o - o ...       ... o
        ^   ^   ^               ^
        |   |   +- next         |
        |   +- bad              +-- master (HEAD)
      start

â–² Prerequisites
â–² The idea
â–² Verify if it can be done safely
<span class="token command">$ git log<span class="token parameter"> --format</span>=</span><span class="token string">&quot;%aI %s&quot;</span> start...master | uniq | wc -l
<span class="token command">$ git log<span class="token parameter"> --oneline</span> start...master | wc<span class="token parameter"> -l</span></span>

â–² Extract the information needed to fix the commit dates after the rebase
<span class="token command">$ git log<span class="token parameter"> --format</span>=</span><span class="token string">&quot;%H %cI %aI %s&quot;</span> start...master &gt; /tmp/hashlist

â–² Backup the current master
<span class="token command">$ git branch old_master</span>

â–² Do the rebase
<span class="token command">$ git rebase<span class="token parameter"> --preserve</span>-merges<span class="token parameter"> --onto</span> start bad</span>

â–² Fix the commit dates
<span class="token command">$ git filter-branch<span class="token parameter"> --env</span>-filter </span><span class="token string">'export GIT_COMMITTER_DATE=$(fgrep -m 1 &quot;$(git log -1 --format=&quot;%aI %s&quot; $GIT_COMMIT)&quot; /tmp/hashlist | cut -d&quot; &quot; -f2)'</span> -f start...master

export GIT_COMMITTER_DATE=$(fgrep -m 1 <span class="token string">&quot;$(git log -1 --format=&quot;</span>%aI %s<span class="token string">&quot; $GIT_COMMIT)&quot;</span> /tmp/hashlist | cut -d<span class="token string">&quot; &quot;</span> -f2)

â–² Verification
<span class="token command">$ git log<span class="token parameter"> --format</span>=</span><span class="token string">&quot;%cI %aI %s&quot;</span> start...master

<span class="token command">$ git reset<span class="token parameter"> --hard</span> old_master</span>

â–² Cleanup
<span class="token command">$ git branch<span class="token parameter"> -D</span> old_master</span>
$ rm /tmp/hashlist
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p><strong>26. Usage scenario: How to push a shallow clone to a new repo?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 16Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-rev-list.html">git rev-list</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-clone.html">git clone</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/50996201" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># First, shallow-clone the old repo to the depth we want to keep</span>
git clone --depth=50 https://...@bitbucket.org/....git

<span class="token comment"># Go into the directory of the clone</span>
cd clonedrepo

<span class="token comment"># Once in the clone's repo directory, remove the old origin</span>
git remote remove origin

<span class="token comment"># Store the hash of the oldest commit (ie. in this case, the 50th) in a var</span>
START_COMMIT=$(git rev-list master|tail -n 1)

<span class="token comment"># Checkout the oldest commit; detached HEAD</span>
git checkout $START_COMMIT

<span class="token comment"># Create a new orphaned branch, which will be temporary</span>
git checkout --orphan temp_branch

<span class="token comment"># Commit the initial commit for our new truncated history; it will be the state of the tree at the time of the oldest commit (the 50th)</span>
git commit -m <span class="token string">&quot;Initial commit&quot;</span>

<span class="token comment"># Now that we have that initial commit, we're ready to replay all the other commits on top of it, in order, so rebase master onto it, except for the oldest commit whose parents don't exist in the shallow clone... it has been replaced by our 'initial commit'</span>
git rebase --onto temp_branch $START_COMMIT master

<span class="token comment"># We're now ready to push this to the new remote repo... add the remote...</span>
git remote add origin https://gitlab.com/....git

<span class="token comment"># ... and push.  We don't need to push the temp branch, only master, the beginning of whose commit chain will be our 'initial commit'</span>
git push -u origin master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p><strong>27. Usage scenario: Merge conflicts updating from upstream</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 15Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-push.html">git push</a>, <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/10774554" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git reset --hard upstream/allwinner-v3.0-android-v2

git push origin +allwinner-v3.0-android-v2

git rebase --onto upstream/branch \
  last-original-upstream-commit-before-yours \
  your-branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>28. Usage scenario: Git: Copy history of file from one repository to another</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 13Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-tag.html">git tag</a>, <a href="/./richen/git-filter-branch.html">git filter-branch</a>, <a href="/./richen/git-rm.html">git rm</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-replace.html">git replace</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/44782681" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² More generally, if we assume paths shouldn't change and that the files you want could be anywhere in the tree, then you could use filter-branch with an --index-filter.
git filter-branch --index-filter <span class="token string">'git rm --cached --ignore-unmatch each file or *glob* you do NOT want'</span> --prune-empty -- all

cd repo-b
git remote add repo-a path/to/repo-a
git fetch repo-a

... A -- B &lt;--(repo-a/master)
  \
   (repo-a/other-branches-maybe)

B' -- C -- D (master)(origin/master)

<span class="token comment"># be sure you're on master</span>
echo <span class="token string">&quot;$commit-id $graft-id&quot;</span> &gt;&gt; .git/info/grafts
git filter-branch $graft-id..HEAD

â–² A rebase might be a little simpler (assuming a certain level of consistency between the histories) but introduces the possibility that you end up modifying the tree at D.  If you do decide to try a rebase, it would be
git rebase --onto repo-A/master B' master

git rebase --interactive --onto repo-A/master --root master

git tag old-history repo-a/master
git tag new-root B'

git replace new-root old-history
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>29. Usage scenario: Remove an unwanted merge commit and rebase instead with Git</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 11Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/24393326" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>develop *-------*
         \       \
  feature *---*---*---*---*
          X   M^  M   Y^  Y

â–² Solution 1: Rebases
<span class="token comment"># Create a temporary branch at the commit right before the merge commit M</span>
git checkout -b temp M^

<span class="token comment"># Rebase onto the develop branch</span>
git rebase develop

<span class="token comment"># Now rebase the remaining commits after M onto the temp branch</span>
git rebase --onto temp M feature

        X   M^  Y^  Y
*---*---*---*---*---*
    ^       ^       ^
 develop   temp  feature

â–² Solution 2: Cherry-picks
<span class="token comment"># Temporarily hard reset feature to the develop branch</span>
git checkout feature
git reset --hard develop

<span class="token comment"># Cherry-pick all commits between X to M^.</span>
<span class="token comment"># The start of the cherry-pick range is exclusive, i.e. it doesn't include</span>
<span class="token comment"># the starting point X^.</span>
git cherry-pick X^..M^

<span class="token comment"># Cherry-pick all commits between M to Y</span>
git cherry-pick M..Y

â–² Documentation
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p><strong>30. Usage scenario: (yet another) modify git history to add a very first commit</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 10Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-symbolic-ref.html">git symbolic-ref</a>, <a href="/./richen/git-rm.html">git rm</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-clean.html">git clean</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/10102637" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git symbolic-ref HEAD refs/heads/base

git rm --cached -r .

git clean -d --force

git commit --allow-empty -m<span class="token string">'Initial Commit'</span>

git cherry-pick 50da9c3

git rebase --onto base --root master

git branch -d base

git branch -D c4-c5branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>31. Usage scenario: Rebasing/duplicating feature branch to an older release</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 10Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/50746663" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto &lt;newbase&gt; &lt;upstream&gt; &lt;branch&gt;

git rebase --onto &lt;new-parent&gt; &lt;old-parent&gt; &lt;branch&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>32. Usage scenario: Cherry-pick a merge</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 10Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/232780" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto C A B
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>33. Usage scenario: Git pull request for just one file</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 10Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/8421689" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># make sure the commit in question is the most recent</span>
<span class="token comment"># make branch to point to the previous commit, leaving the changes in your work tree</span>
git reset HEAD^
<span class="token comment"># commit the changes to the first file</span>
git add file1
git commit
<span class="token comment"># make a branch for the first commit</span>
git branch first-branch HEAD^
<span class="token comment"># commit the changes to the second file</span>
git add file2
git commit
<span class="token comment"># create and check out a branch for this commit</span>
git checkout -b second-branch
<span class="token comment"># rebase the branch back, so that it doesn't include the first commit</span>
git rebase --onto HEAD^^ HEAD^ second-branch

<span class="token comment"># point your master branch somewhere that makes sense - maybe before either branch</span>
git checkout master
git reset --hard first-branch^

git push origin first-branch second-branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>34. Usage scenario: How to transplant a feature (in a topic branch) to another branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 8Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/18470739" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto master feature1 feature2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>35. Usage scenario: Rebase entire development branch onto new master branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 8Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-rm.html">git rm</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/31353842" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² First off, if the inital commit on your develop branch is suitable as the initial commit on the new master branch, then you can simply create the master branch there and you're done:
<span class="token command">$ git branch master &lt;sha1-of-initial-commit-on-develop&gt;</span>

â–² If you don<span class="token string">'t have that luxury, then you'</span>ll need to create a new empty commit that will serve as the initial commit of master.
<span class="token comment"># Create the new master branch</span>
<span class="token command">$ git checkout<span class="token parameter"> --orphan</span> master</span>
<span class="token comment"># Clear the working directory (we want the initial commit to be empty)</span>
<span class="token command">$ git rm<span class="token parameter"> -rf</span> .</span>
<span class="token comment"># Create the initial commit on master</span>
<span class="token command">$ git commit<span class="token parameter"> --allow</span>-empty<span class="token parameter"> -m</span> </span><span class="token string">&quot;Initial commit&quot;</span>
<span class="token comment"># Rebase the entire develop branch onto the new master branch</span>
<span class="token command">$ git rebase<span class="token parameter"> --onto</span> master<span class="token parameter"> --root</span> develop</span>

<span class="token command">$ git branch temp &lt;common-ancestor&gt;</span>
<span class="token command">$ git checkout &lt;topic-branch&gt;</span>
<span class="token command">$ git rebase temp</span>
<span class="token command">$ git branch<span class="token parameter"> -d</span> temp</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>36. Usage scenario: Git, undo merge commit on rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 8Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/46558402" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto topic2 topic2merge topic3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>37. Usage scenario: How can I reorder/combine commits using Git rebase?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 8Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/gitk.html">gitk</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/2080533" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># Safety, should be a no-op if your gitk snapshot is accurate</span>
git checkout backup

<span class="token comment"># Temporary branch</span>
git branch backup-save backup

<span class="token comment"># Move top commit onto 'Fix for #226:</span>
git rebase --onto origin/master HEAD^

<span class="token comment"># Go back to saved branch's parent (i.e. without the moved commit)</span>
git reset --hard backup-save^

<span class="token comment"># Rebase onto the moved commit (HEAD@{1} is where HEAD was 1 step</span>
<span class="token comment"># ago i.e. before the reset.)</span>
git rebase HEAD@{1}

<span class="token comment"># Don't need the saved branch any more (although you might want</span>
<span class="token comment"># to keep it for a bit just in case). This deletes it:</span>
git branch -D backup-save

git checkout twist

git reset --soft HEAD^

<span class="token comment"># Just re-save the commit message, alternatively to skip the</span>
<span class="token comment"># editor step do this: git commit --amend -C HEAD</span>
git commit --amend

git checkout backup
git merge twist
git branch -d twist

git checkout master
git reset --hard backup
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p><strong>38. Usage scenario: Change Git Parent Branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 7Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/43269901" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto feature2 develop feature1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>39. Usage scenario: With git, how do I save a topic branch after the parent remote branch was rebased?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 7Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/11146730" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto &lt;6'-SHA&gt; &lt;6-SHA&gt; my-topic
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>40. Usage scenario: Revert one patch of git rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 7Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-tag.html">git tag</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/30820043" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git tag restart O2~
git rebase --abort
git rebase --onto restart O^ topic
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>41. Usage scenario: Restore git history from split repositories</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 7Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/38018299" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git remote add old_repo &lt;url-for-old-repo&gt; # Add old repository as a remote
git fetch old_repo # Fetch commits from old repo

git checkout master
git rebase --onto &lt;commit from old repo&gt; &lt;commit from new repo&gt; --preserve-merges

git checkout branchname
git rebase --onto &lt;base on new master branch&gt; &lt;first commit in branch&gt; --preserve-merges
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>42. Usage scenario: Undoing temporary changes with Git</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 7Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/5447226" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto master debug feature
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>43. Usage scenario: how to move git commits to and from the stash?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 6Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/25187842" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git rebase<span class="token parameter"> --onto</span> upstream/B </span><span class="token string">'upstream/B@{1}'</span> B
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>44. Usage scenario: Rebasing commit from one parent onto another</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 6Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/56363781" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -ir --onto 1a92e84 81761ff master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>45. Usage scenario: Git remote tracking branch diverged from local branch with identical commits with different SHAs</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 6Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/15713460" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto origin/master c3db784817 master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>46. Usage scenario: How-to git backport (rebase/cherry-pick) an already merged branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 6Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-rev-list.html">git rev-list</a>, <a href="/./richen/git-branch.html">git branch</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/16718891" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>[alias]
    oldest-ancestor = !bash -c <span class="token string">'diff -u &lt;(git rev-list --first-parent &quot;${1:-master}&quot;) &lt;(git rev-list --first-parent &quot;${2:-HEAD}&quot;) | sed -ne \&quot;s/^ //p\&quot; | head -1'</span> -
    rebase-onto     = !bash -c <span class="token string">'git rebase --onto $1 `git oldest-ancestor $2 $3` $3'</span> -

git rebase-onto stable master fix/123

[alias]
    oldest-ancestor = !bash -c <span class="token string">'diff -u &lt;(git rev-list --first-parent &quot;${1:-master}&quot;) &lt;(git rev-list --first-parent &quot;${2:-HEAD}&quot;) | sed -ne \&quot;s/^ //p\&quot; | head -1'</span> -
    rebase-onto     = !bash -c <span class="token string">'git branch $4 $2 &amp;&amp; git rebase --onto $3 `git oldest-ancestor $1 $4` $4'</span> -

git rebase-onto master fix/123 stable fix/123-stable
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>47. Usage scenario: Remove commits from git rebased branch after other commits were done</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 5Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/27482035" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i E

git rebase --onto E G feature/x
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>48. Usage scenario: Join branch into new master commit without merging?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 5Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-switch.html">git switch</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/66080727" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto &lt;new-parent&gt; &lt;old-parent&gt; &lt;branch&gt;

git rebase &lt;parent&gt; &lt;branch&gt;

git rebase &lt;parent&gt;

git rebase --onto master commit_1 mybranch
git rebase master mybranch
git switch mybranch; git rebase master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>49. Usage scenario: Git workflow: How to merge commits made only on new branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 5Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-merge-base.html">git merge-base</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/37775927" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout stage/2.0
git rebase --onto stage/onto $(git merge-base development feature) feature
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>50. Usage scenario: Git: Create a branch. Commits a bunch. Go back to master branch, only wants to merge certain commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 5Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/3714375" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto master E fixing_css
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>51. Usage scenario: Git - How to locally remove a single commit a few commits back?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 5Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-rev-parse.html">git rev-parse</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/41253999" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git checkout<span class="token parameter"> -b</span> temp</span>

<span class="token command">$ git rebase<span class="token parameter"> --onto</span> HEAD~2 HEAD~1  # we'll explain these later</span>

<span class="token command">$ git rev-parse HEAD</span>
de2efebf7ce2b308ea77d8b06f971e935238cd2f
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>52. Usage scenario: How to prevent git doing a fast-forward when rebasing a branch that's been merged, then reverted</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/68016086" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git cherry-pick F..B

git rebase --reapply-cherry-picks --onto master F B
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>53. Usage scenario: Cherry-pick merge commit failing with empty commit</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/51096757" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout branch-2
git branch   moving/branch-2 # new branch to work with
git rebase --onto  branch-1 [sha_of_c] moving/branch-2 # move commits of branch ontop of the other 
git checkout branch-1 
git reset --hard  moving/branch-2 # set branch lable to new HEAD
git branch -d  moving/branch-2 # clean up
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>54. Usage scenario: How to detach a branch and reattach it to some different branch in Git</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/38610876" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto feature B
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>55. Usage scenario: Git rebase multiple commits in one branch to the master</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/63917942" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto o5 o7

<span class="token comment"># from next</span>
git reset --hard HEAD~3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>56. Usage scenario: Git merge commits from a specific upstream release</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-rev-list.html">git rev-list</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/40539375" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git fetch
git rebase --onto $(git rev-list -n1 v1.4-stable)

git pull --rebase origin v1.4-stable
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>57. Usage scenario: Git diff on topic branch, excluding merge commits that happened in the meantime?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/7490784" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto A master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>58. Usage scenario: git - cherry-picked feature commits into new branch, reverted commits, rebase not working as expected</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/22462951" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto dev HEAD~&lt;number of commits you care about&gt; --force-rebase
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>59. Usage scenario: Git: how to merge modified files only</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/3110729" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² This is why it's important to manage your branches well, in particular to use topic branches and to merge upwards.
x - x - x - x ------------- X (master)
|\                          |
| x - x - x ---- X (paypal) |
 \              /           /
  x (bugfix) ---------------

â–² If you have already made your bugfix, and you mistakenly made it on master instead of from the appropriate merge base, and the history on master hasn't been published, you should cherry-pick or rebase it to the right place:
<span class="token comment"># If the bugfix commit is not at the tip of master, you can rebase to get it there:</span>
git rebase -i &lt;commit before the bugfix&gt; master
<span class="token comment"># rearrange the list of commits to put the bugfix at the tip, save and quit</span>

<span class="token comment"># Now either cherry-pick or rebase the commit to the right place</span>
<span class="token comment"># (rebase is easier if the bugfix is actually several commits)</span>

<span class="token comment"># Cherry-pick</span>
<span class="token comment"># make a branch and cherry-pick</span>
git checkout -b bugfix &lt;SHA1 of merge base&gt;
git cherry-pick &lt;SHA1 of bugfix&gt;
<span class="token comment"># remove the commit from master, assuming it's still on the tip</span>
git checkout master
git reset --hard master^

<span class="token comment"># or rebase</span>
<span class="token comment"># make the bugfix branch (assuming it's still on the tip)</span>
git branch bugfix master
<span class="token comment"># and remove the commit from master (assuming it's still on the tip)</span>
git checkout master
git reset --hard master^    # or if the bugfix is composed of n commits, master~n
<span class="token comment"># rebase the bugfix branch to the right place</span>
git rebase --onto &lt;SHA1 of merge base&gt; master bugfix

â–² If the history has been published, all you can do is cherry-pick the bugfix onto the paypal branch, and remember to do it right the next time:
git checkout paypal
git cherry-pick &lt;SHA1 of bugfix&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p><strong>60. Usage scenario: How do I squash commits on a branch that has children</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/27866756" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto master D bugfix
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>61. Usage scenario: Git rebase duplicate patch detection implementation</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/12846068" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto master D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>62. Usage scenario: How to perform a rebase onto a specific commit?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/12853971" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --preserve-merges --onto master^2 master dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>63. Usage scenario: How to remove a file from a pull request that I didn't modify</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/50282637" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto origin/master others yours
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>64. Usage scenario: Undo a git merge, keep commits that came later</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/17100928" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>(branch)         a - b - c - d - e - f - g
               /           /
(master)  1 - 2 - 3 - 4 - 5 - 6 - 7 - 8 - 9 ...

git rebase --onto c d g
git checkout -b newbranch

(newbranch)                e<span class="token string">' - f'</span> - g'
                          /
(branch)         a - b - c - d - e - f - g
               /           /
(master)  1 - 2 - 3 - 4 - 5 - 6 - 7 - 8 - 9 ...

git branch -D branch
git branch -m newbranch branch

git push -n origin branch # check what you're about to push
git push -f origin branch # -f is required to rewrite history; be careful
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>65. Usage scenario: How to send pull request when git histories are different but changes are same?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/51508696" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² TL;DR
â–² Long
A  &lt;--B  &lt;--C ... &lt;--H   &lt;--master

A--B--C--D   &lt;-- master

A--B--C--D   &lt;-- origin/master, upstream/master

A--B--C--D   &lt;-- master (HEAD), origin/master, upstream/master

A--B--C--D   &lt;-- origin/master, upstream/master
          \
           E   &lt;-- master (HEAD)

A--B--C--D   &lt;-- master [on origin]
          \
           E--F

A--B--C--D--E--F   &lt;-- master [on origin]

A-B--C--D   &lt;-- upstream/master
         \
          E--F   &lt;-- master (HEAD), origin/master

A--B--C--D   &lt;-- master [on upstream at GitHub]
          \
           E--F   &lt;-- refs/pull/123/head [on upstream]

A--B--C--D--EF   &lt;-- master [on upstream at GitHub]
          \
           E--F   &lt;-- refs/pull/123/head [on upstream]

A--B--C--D--EF   &lt;-- upstream/master
          \
           E--F   &lt;-- master (HEAD), origin/master

A--B--C--D--EF   &lt;-- upstream/master
          \
           E--F   &lt;-- origin/master
               \
                G   &lt;-- master (HEAD)

               G<span class="token string">'-H'</span>  &lt;-- ???
              /
A--B--C--D--EF   &lt;-- upstream/master
          \
           E--F   &lt;-- origin/master
               \
                G--H   &lt;-- ???

â–² Using git rebase
git checkout master
git rebase other-name

A--B--C--D--EF   &lt;-- upstream/master
          \
           E--F   &lt;-- origin/master
               \
                G--H   &lt;-- master

git checkout master
git rebase --onto upstream/master origin/master

               G--H   &lt;-- master (HEAD)
              /
A--B--C--D--EF   &lt;-- upstream/master
          \
           E--F   &lt;-- origin/master
               \
                G--H   [abandoned]

git push --force origin master

A--B--C--D--EF--G<span class="token string">'-H'</span>  &lt;-- master [on origin at GitHub]

A--B--C--D--EF--GH   &lt;-- master [on upstream at GitHub]

â–² The principals involved here, or, why their process is a bit unfriendly
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br></div></div><p><strong>66. Usage scenario: Git rebase on tags and not individual commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/15930893" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto 1.0 2.0 BRANCH

git rebase --onto 1.0 3.0 BRANCH
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>67. Usage scenario: Rebase feature branch on master, excluding previous feature branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/31256644" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto master sha123~
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>68. Usage scenario: How do I reduce the size of a bloated Git repo by non-interactively squashing all commits except for the most recent ones?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-diff.html">git diff</a>, <a href="/./richen/git-tag.html">git tag</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-prune.html">git prune</a>, <a href="/./richen/git-gc.html">git gc</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/24153726" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git tag temp

git checkout 10004
git checkout --orphan new_root
git commit -m <span class="token string">&quot;set new root 10004&quot;</span>

git rebase --onto new_root 10004 branchname

git diff temp   # verification that it worked with no changes
git tag -d temp
git branch -D new_root

git prune
git gc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>69. Usage scenario: Git: merge two repositories one over the other</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-tag.html">git tag</a>, <a href="/./richen/git-filter-branch.html">git filter-branch</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-clone.html">git clone</a>, <a href="/./richen/git-fetch.html">git fetch</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/42371140" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² If your history is pretty linear (i.e. just master in each of A and B), this won't be too bad.  If there are a lot of branches to contend with it will get more involved (see update below), but still this would provide a starting point:
git clone /url/for/repo/A C
cd C

git remote add B /url/for/repo/B
git fetch B

git rebase --onto master --root B/master

git branch -f master
git remote remove B

A1 ---- A2 ---- A3  &lt;--- (master)
   \          /
     A4 -- A5 

<span class="token deleted">---------------------------</span>

B1 ---- B2 ---- B3 &lt;--- (master)
   \          /
     B4 -- B5

git filter-branch --parent-filter <span class="token string">'sed &quot;s/^\$/-p xxxxxxxxxx/&quot;'</span> B/master

â–² If you don't know if/where problems will occur, you could try the rebase and then run a validation to compare commits.  Before doing the rebase
git checkout master
git tag old-B-master

git rebase --preserve-branches --onto master --root B/master
git tag new-B-master

A1 ---- A2 ---- A3  &lt;--- (master)
   \          /
     A4 -- A5 

<span class="token deleted">---------------------------</span>

B1 ---- B2 &lt;--- (master)
   \
     B4 -- B5 &lt;--- (branch1)

â–² Maybe your B repo isn<span class="token string">'t fully merged.  This may or may not complicate things.  If you'</span>re using filter-branch, it can work on many refs at once.  You probably can't just say --all (because that could catch refs that are already in the A tree and likely the operation would end up failing), but you can list the branch tips from the B tree.
git filter-branch --parent-filter <span class="token string">'sed &quot;s/^\$/-p xxxxxxxxxx/&quot;'</span> B/master B/branch1

â–² If you're trying to use rebase (or if you just want to work with a single tip ref), you can create a temporary octopus merge.
git checkout B/master
git checkout -b b-entry-point
git merge -s ours B/branch1 B/branch2 ...

A --- Am &lt;-- (master)
  \
    Ab1 &lt;-- (branch1)
<span class="token deleted">---------------------------------------</span>
B1 ---- B2  &lt;-- (master)

B3 ---- B4  &lt;-- (branch1)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><p><strong>70. Usage scenario: Rebase after force push</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-rev-list.html">git rev-list</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/60875172" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² The setup
...--A--B   &lt;-- master
         \
          C   &lt;-- feature/A
           \
            D   &lt;-- feature/B

...--A--B   &lt;-- master
         \
          C--E   &lt;-- feature/A
           \
            D   &lt;-- feature/B

          F   &lt;-- feature/A
         /
...--A--B   &lt;-- master
         \
          C--E   [abandoned]
           \
            D   &lt;-- feature/B

git checkout feature/B
git rebase --onto feature/A something-goes-here

â–² Copying some commit(s)
          F   &lt;-- feature/A, new-B (HEAD)
         /
...--A--B   &lt;-- master
         \
          C--E   &lt;-- saved-A
           \
            D   &lt;-- feature/B

            D'   &lt;-- new-B (HEAD)
           /
          F   &lt;-- feature/A
         /
...--A--B   &lt;-- master
         \
          C--E   &lt;-- saved-A
           \
            D   &lt;-- feature/B

            D'   &lt;-- feature/B (HEAD)
           /
          F   &lt;-- feature/A
         /
...--A--B   &lt;-- master
         \
          C--E   &lt;-- saved-A
           \
            D   [abandoned]

â–² What git rebase does, in a nutshell
...--A--B   &lt;-- target
      \
       C--D--E   &lt;-- current (HEAD)

git rebase target

          C<span class="token string">'-D'</span>-E'   &lt;-- current (HEAD)
         /
...--A--B   &lt;-- target
      \
       C--D--E   [abandoned]

git rev-list target..HEAD

â–² The truth about which commits get copied
git rebase target

git rebase --onto target stop

...--A--B   &lt;-- target
      \
       C   &lt;-- another
        \
         D--E   &lt;-- current (HEAD)

git rebase --onto target another

          D<span class="token string">'-E'</span>  &lt;-- current (HEAD)
         /
...--A--B   &lt;-- target
      \
       C   &lt;-- another
        \
         D--E   [abandoned]

â–² Putting it all together
          F   &lt;-- feature/A
         /
...--A--B   &lt;-- master
         \
          C--E   &lt;-- saved-A
           \
            D   &lt;-- feature/B (HEAD)

git rebase --onto feature/A saved-A

            D'  &lt;-- feature/B (HEAD)
           /
          F   &lt;-- feature/A
         /
...--A--B   &lt;-- master
         \
          C--E   &lt;-- saved-A
           \
            D   [abandoned]

â–² What if you didn't save the name?
git rebase --onto feature/A &lt;hash-ID-of-E-or-C&gt;

git rebase --onto feature/A feature/A@{1}

â–² When don't you need anything special?
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br></div></div><p><strong>71. Usage scenario: Git pull into an untracked copy of repo</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-log.html">git log</a>, <a href="/./richen/git-fetch.html">git fetch</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/19322696" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>cd $your_git_repository
git remote add origin $URL
git fetch origin
git branch -m my_branch
git rebase --onto $base_commit $your_first_commit my_branch
git merge $remote_branch
git log --graph --decorate --oneline
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>72. Usage scenario: Flatten a GIT master branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/30321921" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git rebase<span class="token parameter"> --onto</span> dfc22c8 00e3cd7 00565b3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>73. Usage scenario: How to flatten merge commit during git rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/46545120" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² If you just start the rebase, as in
git rebase --interactive --onto &lt;new-parent&gt; 2955a39^ 77a706b

  P
 /
o -- X -- o -- o -- O &lt;--(master)
      \
       A -- B --- M -- D &lt;--(branch)
             \   /
               C

â–² If you<span class="token string">'re just moving branch from X to O, then you don'</span>t really need --onto; you can treat master as your upstream because the old branch point is an ancestor of the new parent.
git rebase -i master branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>74. Usage scenario: Adding old git history to new repository</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-clone.html">git clone</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/53324766" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git clone git@newrepo.com:project.git
cd project
git fetch --all
git remote add original https://oldrepo.com/project-old.git
git fetch original
git rebase --onto original/master 6210d0b3cf20f506ce0bab7849550b38c9effb15 master

<span class="token comment"># Manual resolution of conflict</span>

git rebase --continue
git push --force origin master      # Need to disable branch protection in gitlab
                                    # Re-enable protection in gitlab

git checkout --track origin/upstream
git rebase --onto original/upstream 6210d0b3cf20f506ce0bab7849550b38c9effb15    
<span class="token comment"># Manual resolution of conflict    </span>
git rebase --continue
gir push --force origin upstream

git checkout --track origin/pristine-tar
git rebase --onto original/pristine-tar 6210d0b3cf20f506ce0bab7849550b38c9effb15
git push --force origin pristine-tar
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><strong>75. Usage scenario: Removing a specific commit in the git history with several branches?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/21427240" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto B' B F
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>76. Usage scenario: How to rebase feature branch from theme branch to development branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/38653362" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --committer-date-is-author-date --onto dev T4 W`
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>77. Usage scenario: Binding my local repository with an existing remote repository</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/52745729" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git push ssh://&lt;remote-host&gt;/&lt;remote-path&gt; HEAD

git fetch ssh://&lt;remote-host&gt;/&lt;remote-path&gt;
git merge -s ours FETCH_HEAD
git push ssh://&lt;remote-host&gt;/&lt;remote-path&gt; HEAD

git fetch ssh://&lt;remote-host&gt;/&lt;remote-path&gt;
git rebase --onto FETCH_HEAD &lt;branch-point&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>78. Usage scenario: Reordering git branches: rebasing to an earlier branch in a chain pulls in many extra commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/52448092" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git rebase<span class="token parameter"> --onto</span> master server client</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>79. Usage scenario: Git revert merge commit, lost some files</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/44267881" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto master feature-root feature
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>80. Usage scenario: How can I delete merge commit</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/33446046" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto &lt;sha-of-commit-a&gt; B C

git checkout A
git reset --hard &lt;sha-of-commit-g'&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>81. Usage scenario: How to move a branch on GitHub?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/69576317" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>Another example of --onto option is to rebase part of a branch. If we
have the following situation:

                                H---I---J topicB
                               /
                      E---F---G  topicA
                     /
        A---B---C---D  master

then the command

    git rebase --onto master topicA topicB

would result in:

                     H<span class="token string">'--I'</span>--J'  topicB
                    /
                    | E---F---G  topicA
                    |/
        A---B---C---D  master

This is useful when topicB does not depend on topicA.

<span class="token command">$ git rebase<span class="token parameter"> --onto</span> main branchB</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><strong>82. Usage scenario: Git: How to recover from changed history?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-branch.html">git branch</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/19597876" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git branch save_point origin/master (before fetch)

git fetch

git rebase --onto origin/master save_point master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>83. Usage scenario: Pull request on a branch which got cherry picked commits merged</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/53235249" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto master B A
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>84. Usage scenario: Squashing history commits in a pushed branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/55760467" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto abc1234 d68bebe enh/12-durability
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>85. Usage scenario: Github: Changes ignored after revert (git cherrypick, git rebase)</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a>, <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/35408781" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² git cherry-pick
<span class="token comment"># Find out the range of commits you wish to re-add to your branch.</span>
<span class="token comment"># then use cherry-pick to add them back to the branch</span>

git cherry-pick start..end

<span class="token comment"># If you wish to include the start commit as well add the ^</span>
<span class="token comment"># This will result in a cherry-pick of the start commit included as well </span>
git cherry-pick start^..end

â–² git rebase --onto (Carefull = rebase)
<span class="token comment"># reset it to the start commit</span>
git reset --hard start

<span class="token comment"># rebase every commit after b and transplant it onto a</span>
git rebase --onto commit1 commit2 commit3 ... commitN
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>86. Usage scenario: How to move sub-branch to other parent branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/40229795" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code> git rebase --onto develop origin/master yourbranch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>87. Usage scenario: Merging changes from a branch based off a topic branch to a different topic branch in git</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/5749129" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git co refactor
git co -b topic2_refactor
git rebase --onto topic2 topic1 # bases the diffs off of topic1, but applies them to topic2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>88. Usage scenario: Moving commits branched from master onto a previous commit in master</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/47333448" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto desired master feature
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>89. Usage scenario: How to rebase onto branch that has overwritten history?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/49243225" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto 1 A..2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>90. Usage scenario: How to Recover an Aborted Rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/56744207" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto rebase_tag branch~2 branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>91. Usage scenario: Git: Rebase to equal branch (with different history) conflicts, cherry-pick doesn't</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/69302859" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto master renamed_wellcome~ renamed_wellcome
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>92. Usage scenario: How to add a new base to the first commit of a git revision tree</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/48220684" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>
    git rebase --onto base_work others_work my_work
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>93. Usage scenario: Remove a previous commit without touching files</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/29995107" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i HEAD~4

git rebase --onto HEAD~3 HEAD~2 HEAD
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>94. Usage scenario: Cancel part of a single line from specific commit, after git push</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-tag.html">git tag</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/39497350" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² tag these so you can restore if something goes wrong.
git tag MyOldCommit BADCOMMIT
git tag MyOldMaster master

â–² if you need to you can recover master unchanged with
git branch -f master MyOldMaster

git checkout -b MyFixedCommit BADCOMMIT

git commit --amend -m<span class="token string">&quot;my commit message&quot;</span>

git checkout master

git rebase --onto MyFixedCommit BADCOMMIT master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>95. Usage scenario: fix broken git history after merging other repo into subdir</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-blame.html">git blame</a>, <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-mv.html">git mv</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/19402332" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>cd repoA
mkdir dirA
git mv src pom.xml other* dirA  (i.e. all contents except for dirA will be moved to dirA)
git commit -m <span class="token string">&quot;moved repoA to dirA&quot;</span>

cd repoAllNew
git remote add -f origin-repoA ../repoA
git pull origin-repoA master

git blame dirA/src/main/java/HelloWorld.java

git remote add -f origin-repoAllOld ../repoAll

git branch start &lt;SHA1 of origin-repoAllOld/changes_start_here&gt;
git branch end &lt;SHA1 of origin-repoAllOld/master&gt;
git rebase --onto master start end
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>96. Usage scenario: Git: How can I cleanly depend on a PR that hasn't merged?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/57465732" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase feat1

git rebase --onto feat1 old-tip-of-feat1 feat2 # ask git to move feat2 discarding all old revisions of feat1, and put them on top of feat1

git rebase master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>97. Usage scenario: How do I reset my repository to a certain release and apply all my changes from that point on?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/32056846" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto old_release master current_branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>98. Usage scenario: Doing a selective rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/27453598" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto c master test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>99. Usage scenario: Disentangle old, bad merge in Git</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/39858950" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout -b E-repair E
git reset --soft 1~
git commit -m <span class="token string">&quot;E-prime&quot;</span>
git checkout master
git merge E-repair

git rebase --onto master E z
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>100. Usage scenario: How to remove unnamed branch in git shown in Github network view</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/38113665" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto Z^2 A master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>101. Usage scenario: git merging only recent changes from one repository to another which is an unrelated snapshot (not a clone)</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-remote.html">git remote</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/30763413" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">~/A $ git remote add external ssh://path/to/B</span>
<span class="token command">~/A $ git fetch external</span>

<span class="token command">~/A $ git rebase<span class="token parameter"> --interactive</span> A04<span class="token parameter"> --onto</span> external/master</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>102. Usage scenario: How to rebase an old commit on a deleted branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/69707901" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto 1 2 new_dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>103. Usage scenario: Git update branch after changing parent</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/62998589" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto A &lt;previous A sha&gt; B
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>104. Usage scenario: How to add old zipped sources at the beginning of origin trunk?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-rm.html">git rm</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/18194189" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout --orphan newroot
git rm -rf .
<span class="token comment"># unzip zip1 to project directory</span>
git add .
git commit  -m <span class="token string">'zip1'</span>
<span class="token comment"># unzip zip2 to project directory</span>
git add .
git commit  -m <span class="token string">'zip2'</span>
...
git rebase --onto newroot --root master
git branch -d newroot
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>105. Usage scenario: How to rebase Git commits to SVN after having initialized the Git repository in an SVN directory?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-clean.html">git clean</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/24480662" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>cd svn_repo
git reset --hard (warning: dont apply if you dont understand the implications)
git clean -rfx   (warning: dont apply if you dont understand the implications)
cd ../git_repo
git checkout F'
git reset --hard (warning: dont apply if you dont understand the implications)
git clean -rfx   (warning: dont apply if you dont understand the implications)
diff -wru3 svn_repo git_repo | grep -i only

git commit -a -m<span class="token string">&quot;patch applied&quot;</span>

git remote add featurebranch path/To/git_repo
git checkout featurebranch

git rebase -s recursive -Xours -Xignore-space-at-eol --onto svn_branch G K
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>106. Usage scenario: Git: How to edit old commit with multiple descendant branches?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/23254805" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto commit_7.1 commit_7 topic1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>107. Usage scenario: How to avoid messy git commits in a PR</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-switch.html">git switch</a>, <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/59254616" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git remote add upstream /url/original/repo
git fetch upstream
git switch mybranch
git rebase --onto upstream/master master mybranch
git push --force
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>108. Usage scenario: rebasing a heavily-merged branch prior to pushing changes upstream</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/5380821" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i --onto H a j
<span class="token comment"># then remove all commits you don't want (already cherry-picked)</span>
<span class="token comment"># hope the best :D</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>109. Usage scenario: Duplicate commits in history after fork</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/65130601" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># to rebase X..yourbranch on top of X' :</span>
git rebase --onto X' X yourbranch

<span class="token comment"># to rebase X'..yourbranch on top of Z :</span>
git rebase --onto Z X' yourbranch

<span class="token comment"># obviously, if you want to go with 1. :</span>
git rebase --onto Z X yourbranch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>110. Usage scenario: Git change parent of parent commit</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/67369840" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto master feature1 feature2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>111. Usage scenario: Git rebase from one parent commit on top of a new parent commit (that doesn't have the old parent commit as one of its parents)</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/60005908" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto origin/master B~1 B
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>112. Usage scenario: How to recombine multiple git repos into a single repo and preserve history?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/63275444" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto old/main revision-id-of-first-revision-of-new1-main new1/main
<span class="token comment"># at this point you should be in DETACHED HEAD, let's create a local branch</span>
git branch main1

git push old HEAD:main
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>113. Usage scenario: How to work around force-pushing of an upstream branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/67854980" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² The Pledge
git fetch some-remote # adjust to the name of your remote, of course

â–² The Turn
git rebase --onto some-remote/base-branch old-base-rev branchX

â–² The Prestige
â–² Other possibilities
git reset --soft old-base-rev
git commit -m <span class="token string">&quot;Single revision for feature X&quot;</span>

git fetch some-remote
git rebase --onto some-remote/base-branch old-base-rev branchX
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>114. Usage scenario: How can I rebase my new code atop of old .tar.gz archives of old versions?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/69807036" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto historical ea0bdd11 master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>115. Usage scenario: How to remove previous commits and keep the ones that are my changes?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/54140917" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git remote add upstream /url/original/repo
git fetch upstream
git checkout my-working-branch
git rebase upstream/master
git push --force -u origin my-working-branch

git push --force origin my-working-branch:master

git rebase -i --onto upstream/master 2f1...my-working-branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>116. Usage scenario: Git fails at rebasing in modified commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/30183002" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i origin/master

git rebase cr_fix

git rebase --onto A' A
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>117. Usage scenario: Git: Preserving current code state and last four commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-rev-list.html">git rev-list</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-tag.html">git tag</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-log.html">git log</a>, <a href="/./richen/git-rev-parse.html">git rev-parse</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/51501904" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment">#!/bin/bash</span>

function gitConsolidation() {

    # Default settings
    numCommitsToKeep=4
    branchName=<span class="token string">&quot;master&quot;</span>
    path=<span class="token string">&quot;/home/steve/test/testgit&quot;</span>

    # Set working directory
    cd $path

    # Get git repo name
    gitRepoName=$(basename `git rev-parse --show-toplevel`)

    # Print default message
    echo -e <span class="token string">&quot;** Prepairing to consolidate current Git Repo: $gitRepoName **&quot;</span>
    echo -e <span class="token string">&quot;Branch: $branchName&quot;</span>
    echo -e <span class="token string">&quot;Path: $path&quot;</span>
    echo -e <span class="token string">&quot;Total past commits to keep: $numCommitsToKeep\n&quot;</span>

    # Get required branch
    git checkout $branchName

    # Get size before consolidation
    echo -e <span class="token string">&quot;Repo size before consolidation: $(du -hs)&quot;</span> 

    # Print current log list
    echo -e <span class="token string">&quot;\n* Git commits prior to consolidation *&quot;</span>  
    git log --pretty=<span class="token string">&quot;%H - %s&quot;</span>

    # Get initial commit hash
    initialCommitHash=$(git rev-list --max-parents=0 HEAD)
    echo -e <span class="token string">&quot;\n* Found initial commit hash: $initialCommitHash *&quot;</span>

    # Get hash for commit to be consolidated with intiial commit
    consCommitHash=$(git log --format=%H | head -$numCommitsToKeep | tail     -1)
    echo -e <span class="token string">&quot;* Found hash for commit to consolidate with initial commit: $consCommitHash *&quot;</span>

    # Get hash for latest commit
    latestCommitHash=$(git log --format=%H | head -1)
    echo -e <span class="token string">&quot;* Found hash for latest commit $latestCommitHash *\n&quot;</span>

    # Begin consolidation
    echo -e <span class="token string">&quot;* BEGIN: Git repo consolidation *&quot;</span>

    # Checkout commit to consolidate with initial commit
    git checkout $consCommitHash

    # Soft reset initial commit
    git reset --soft $initialCommitHash

    # Commit changes
    git commit -m <span class="token string">&quot;Consolidated commit $initialCommitHash -&gt; $consCommitHash&quot;</span>

    # Set tag
    git tag new_base

    # Checkout
    git checkout -b consolidated $latestCommitHash

    # Rebase
    git rebase --onto new_base $consCommitHash

    # Get size after consolidation
    echo -e <span class="token string">&quot;Repo size after consolidation: $(du -hs)&quot;</span>

    # Print current log list
    echo -e <span class="token string">&quot;\n * Git commits after consolidation *&quot;</span>    
    git log --pretty=<span class="token string">&quot;%H - %s&quot;</span>

    echo -e <span class="token string">&quot;\n* END: Git repo consolidation *&quot;</span>
}

<span class="token comment"># Call function</span>
gitConsolidation
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br></div></div><p><strong>118. Usage scenario: Do rebase again after squash to different branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/48699179" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto branch1 &lt;first commit of branch2 SHA1&gt; branch2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>119. Usage scenario: How to resolve commit history on remote repo after rebasing?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/67100030" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² Long
A--B--C--H--I   &lt;-- main
       \
        F--G   &lt;-- feature

A--B--C--H--I--M   &lt;-- main
       \      /
        F----G   &lt;-- feature

â–² What is the best approach to this situation?
  B<span class="token string">'-C'</span>-H<span class="token string">'-I'</span>  &lt;-- main
 /
A--B--C--H--I   &lt;-- origin/main    [<span class="token string">&quot;main&quot;</span> in a Git you call <span class="token string">&quot;origin&quot;</span>]
       \
        F--G   &lt;-- feature, origin/feature

  B<span class="token string">'-C'</span>-H<span class="token string">'-I'</span>  [no names yet]
 /
A--B--C--H--I   &lt;-- main
       \
        F--G   &lt;-- feature

  B<span class="token string">'-C'</span>-H<span class="token string">'-I'</span>  &lt;-- main
 /
A--B--C--H--I   [abandoned]
       \
        F--G   &lt;-- feature

â–² Rebase in general works by copying commits
git rebase main

  B<span class="token string">'-C'</span>-H<span class="token string">'-I'</span>  &lt;-- main
 /
A--B--C--H--I   &lt;-- origin/main    [<span class="token string">&quot;main&quot;</span> in a Git you call <span class="token string">&quot;origin&quot;</span>]
       \
        F--G   &lt;-- feature, origin/feature

git rebase --onto main~2 origin/main

       F<span class="token string">'-G'</span>  &lt;-- feature (HEAD)
      /
  B<span class="token string">'-C'</span>-H<span class="token string">'-I'</span>  &lt;-- main
 /
A--B--C--H--I   &lt;-- origin/main
       \
        F--G   &lt;-- origin/feature

git push --force-with-lease --atomic main feature

        F<span class="token string">'-G'</span>  &lt;-- feature (HEAD), origin/feature
       /
A--B<span class="token string">'-C'</span>-H<span class="token string">'-I'</span>  &lt;-- main, origin/main
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><p><strong>120. Usage scenario: Copy changes from one subbranch of a branch to subbranch of another branch in Git</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/43755928" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto X A Y
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>121. Usage scenario: How can I create a PR in github that only shows changes in a single branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge-base.html">git merge-base</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/56697244" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code> m--m--m--m       (master, upstream/master)
    \
     a--a--a      (A)
         \
          b--b--b (B)

git rebase --onto master $(git merge-base A B) B

            b<span class="token string">'--b'</span>--b' (B)
           /
 m--m--m--m       (master, upstream/master)
    \
     a--a--a      (A)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>122. Usage scenario: How to resolve git merge conflict without pulling master branch into feature branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/53181381" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto qa-branch production-branch my-feature
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>123. Usage scenario: Git repository - how to replay newer commits made to old repository, to modified repository after running git filter-branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/21754265" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto H' H J

git rebase --preserve-merges --onto I' I M
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>124. Usage scenario: Revert past git commits but keep changes introduced since</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/40912711" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto X3 Y2 # strips Y2
git rebase --onto X1 Y1 # strips Y1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="continue"><a href="#continue" class="header-anchor">#</a> ğŸ”¹ --continue</h2> <p><strong>1. Usage scenario: How to modify a specified commit?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3606Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/1186549" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git rebase<span class="token parameter"> --interactive</span> </span><span class="token string">'bbc643cd^'</span>

<span class="token command">$ git commit<span class="token parameter"> --all</span><span class="token parameter"> --amend</span><span class="token parameter"> --no</span>-edit</span>

<span class="token command">$ git rebase<span class="token parameter"> --continue</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>2. Usage scenario: Break a previous commit into multiple commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2098Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/6217314" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² A) Splitting the most recent commit
<span class="token command">$ git reset HEAD~</span>

â–² B) Splitting a commit farther back
<span class="token command">$ git reset HEAD~</span>

â–² Finally (both A and B)
<span class="token command">$ git rebase<span class="token parameter"> --continue</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>3. Usage scenario: Remove sensitive files and their commits from Git history</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 537Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-update-index.html">git update-index</a>, <a href="/./richen/git-filter-branch.html">git filter-branch</a>, <a href="/./richen/git-rm.html">git rm</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/872700" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² For all practical purposes, the first thing you should be worried about is CHANGING YOUR PASSWORDS! It<span class="token string">'s not clear from your question whether your git repository is entirely local or whether you have a remote repository elsewhere yet; if it is remote and not secured from others you have a problem. If anyone has cloned that repository before you fix this, they'</span>ll have a copy of your passwords on their local machine, and there<span class="token string">'s no way you can force them to update to your &quot;fixed&quot; version with it gone from history. The only safe thing you can do is change your password to something else everywhere you'</span>ve used it.
git filter-branch --index-filter \
<span class="token string">'git update-index --remove PATH-TO-YOUR-FILE-WITH-SENSITIVE-DATA'</span> &lt;introduction-revision-sha1&gt;..HEAD
git push --force --verbose --dry-run
git push --force

  git filter-branch --force --index-filter \
  <span class="token string">&quot;git rm --cached --ignore-unmatch PATH-TO-YOUR-FILE-WITH-SENSITIVE-DATA&quot;</span> \
  --prune-empty --tag-name-filter cat -- --all
  git push --force --verbose --dry-run
  git push --force

â–² In the future, if you accidentally commit some changes with sensitive information but you notice before pushing to a remote repository, there are some easier fixes. If you last commit is the one to add the sensitive information, you can simply remove the sensitive information, then run:
git commit -a --amend

â–² That will amend the previous commit with any new changes you've made, including entire file removals done with a git rm. If the changes are further back in history but still not pushed to a remote repository, you can do an interactive rebase:
git rebase -i origin/master

$EDITOR file-to-fix
git commit -a --amend
git rebase --continue
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>4. Usage scenario: Git undo changes in some files</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 297Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-revert.html">git revert</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/933344" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² There are three basic ways to do this depending on what you have done with the changes to the file A. If you have not yet added the changes to the index or committed them, then you just want to use the checkout command - this will change the state of the working copy to match the repository:
git checkout A

â–² If you added it to the index already, use reset:
git reset A

â–² If you had committed it, then you use the revert command:
<span class="token comment"># the -n means, do not commit the revert yet</span>
git revert -n &lt;sha1&gt;
<span class="token comment"># now make sure we are just going to commit the revert to A</span>
git reset B
git commit

â–² If on the other hand, you had committed it, but the commit involved rather a lot of files that you do not also want to revert, then the above method might involve a lot of <span class="token string">&quot;reset B&quot;</span> commands. In this case, you might like to use this method:
<span class="token comment"># revert, but do not commit yet</span>
git revert -n &lt;sha1&gt;
<span class="token comment"># clean all the changes from the index</span>
git reset
<span class="token comment"># now just add A</span>
git add A
git commit

â–² Another method again, requires the use of the rebase -i command. This one can be useful if you have more than one commit to edit:
<span class="token comment"># use rebase -i to cherry pick the commit you want to edit</span>
<span class="token comment"># specify the sha1 of the commit before the one you want to edit</span>
<span class="token comment"># you get an editor with a file and a bunch of lines starting with &quot;pick&quot;</span>
<span class="token comment"># change the one(s) you want to edit to &quot;edit&quot; and then save the file</span>
git rebase -i &lt;sha1&gt;
<span class="token comment"># now you enter a loop, for each commit you set as &quot;edit&quot;, you get to basically redo that commit from scratch</span>
<span class="token comment"># assume we just picked the one commit with the erroneous A commit</span>
git reset A
git commit --amend
<span class="token comment"># go back to the start of the loop</span>
git rebase --continue
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p><strong>5. Usage scenario: How to amend older Git commit?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 252Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-add.html">git add</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/8825163" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i HEAD^^^

git add .
git rebase --continue
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>6. Usage scenario: git rebase merge conflict</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 144Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-mergetool.html">git mergetool</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/11710051" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git mergetool

git rebase --continue
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>7. Usage scenario: How do I properly remove sensitive data pushed to a Git repo?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 61Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-push.html">git push</a>, <a href="/./richen/git-commit.html">git commit</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/29741586" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive dba507c^

git commit --all --amend --no-edit
git rebase --continue

git push -f origin your_branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>8. Usage scenario: How to undelete a file previously deleted in git's history?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 59Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-tag.html">git tag</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/3150528" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git tag originalHead # just in case
git rebase -i &lt;id of the parent of the commit that deleted the file&gt;
<span class="token comment"># change pick to edit for that commit</span>
git checkout &lt;id of the previous commit&gt; &lt;filename&gt; # thanks for reminding, kubi
git commit --amend
git rebase --continue
git tag -d originalHead
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>9. Usage scenario: git rebase &quot;deleted by us&quot; and &quot;deleted by them&quot;</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 56Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-log.html">git log</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/27424658" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² Reference documentation
â–² Demonstration
$ ls
a
<span class="token command">$ git log<span class="token parameter"> --oneline</span><span class="token parameter"> --graph</span><span class="token parameter"> --decorate</span><span class="token parameter"> --all</span></span>
* d055cdd (HEAD -&gt; y) Write baz in a-file
| * 487dc8c (x) Write bar in a-file
|/  
* 3fa0da5 (master) Write foo in a-file
<span class="token command">$ git rebase x</span>
First, rewinding head to replay your work on top of it...
Applying: Write baz in a-file
Using index info to reconstruct a base tree...
M   a
Falling back to patching base and 3-way merge...
Auto-merging a
CONFLICT (content): Merge conflict in a
error: Failed to merge in the changes.
Patch failed at 0001 Write baz in a-file
The copy of the patch that failed is found in: .git/rebase-apply/patch

When you have resolved this problem, run <span class="token string">&quot;git rebase --continue&quot;</span>.
If you prefer to skip this patch, run <span class="token string">&quot;git rebase --skip&quot;</span> instead.
To check out the original branch and stop rebasing, run <span class="token string">&quot;git rebase --abort&quot;</span>.
$ cat a
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
bar
=======
baz
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Write baz in a-file
<span class="token command">$ git checkout<span class="token parameter"> --ours</span> a</span>
$ cat a
bar
<span class="token command">$ git checkout<span class="token parameter"> --theirs</span> a</span>
$ cat a
baz

â–² More pedantic analysis
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p><strong>10. Usage scenario: How to remove a commit from the middle of a branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 28Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-log.html">git log</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/42522493" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git log                          # copy the target commit </span>

<span class="token command">$ git rebase<span class="token parameter"> -i</span> &lt;target-commit&gt;~1  # start rebase from the previous commit of target commit</span>

<span class="token command">$ git rebase<span class="token parameter"> --continue</span>      # repeat the command until finish rebase</span>

<span class="token command">$ git push<span class="token parameter"> -f</span> origin HEAD </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>11. Usage scenario: How to rebase after git-subtree add?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 19Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-diff.html">git diff</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/48293315" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --preserve-merges master

git rebase --continue

git diff &lt;ref-before-rebase&gt; &lt;ref-after-rebase&gt; -- .
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>12. Usage scenario: git push after removing large file</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 11Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-rm.html">git rm</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/2327928" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git reset HEAD^</span>
<span class="token command">$ git rebase<span class="token parameter"> -i</span> 57d0b28</span>
Stopped at 366eca1... This has a huge file
You can amend the commit now, with

    git commit --amend

Once you are satisfied with your changes, run

    git rebase --continue
<span class="token command">$ git rm<span class="token parameter"> --cached</span> big-nasty-file</span>
rm <span class="token string">'big-nasty-file'</span>
<span class="token command">$ git commit<span class="token parameter"> --amend</span></span>
<span class="token command">$ git rebase<span class="token parameter"> --continue</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>13. Usage scenario: Git reset current rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 10Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-status.html">git status</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/35174113" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² If you just want to redo a merge for a specific file, all you need to do is:
git checkout -m &lt;file&gt;

â–² I run a git status which, as of Git 2.0.0, gives me something like this (only if you are doing an interactive rebase):
interactive rebase in progress; onto 14ed389
Last command done (1 command done):
   pick db2511c Modify file
Next command to do (1 remaining command):
   pick d1c2037 Modify file one more time
  (use <span class="token string">&quot;git rebase --edit-todo&quot;</span> to view and edit)
You are currently rebasing branch <span class="token string">'other'</span> on <span class="token string">'14ed389'</span>.
  (fix conflicts and then run <span class="token string">&quot;git rebase --continue&quot;</span>)
  (use <span class="token string">&quot;git rebase --skip&quot;</span> to skip this patch)
  (use <span class="token string">&quot;git rebase --abort&quot;</span> to check out the original branch)

Unmerged paths:
  (use <span class="token string">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage)
  (use <span class="token string">&quot;git add &lt;file&gt;...&quot;</span> to mark resolution)

        both modified:   file.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>14. Usage scenario: GIT: Updating a feature branch with changes in master without merge</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 9Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/40532727" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git checkout feature</span>
<span class="token command">$ git merge master</span>

<span class="token command">$ git checkout feature</span>
<span class="token command">$ git rebase master</span>

<span class="token command">$ git rebase<span class="token parameter"> --continue</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>15. Usage scenario: Git: I've a feature branch with 80+ commits. How can I safely merge it into develop/production without ruining the history?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 5Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/27076194" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git rebase<span class="token parameter"> -i</span> HEAD~3</span>

<span class="token command">$ git reset HEAD~</span>
<span class="token command">$ git add ... # only files of feature A</span>
<span class="token command">$ git commit<span class="token parameter"> -m</span> </span><span class="token string">'Feature A'</span>
<span class="token command">$ git add ... # only files of feature B</span>
<span class="token command">$ git commit<span class="token parameter"> -m</span> </span><span class="token string">'Feature B'</span>
<span class="token command">$ git add ... # only files of feature C</span>
<span class="token command">$ git commit<span class="token parameter"> -m</span> </span><span class="token string">'Feature B'</span>
<span class="token command">$ git rebase<span class="token parameter"> --continue</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>16. Usage scenario: In rebase conflicts, how to say &quot;use file from branch A, blow away file from master&quot;?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/37446251" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git checkout bra</span>

<span class="token command">$ git rebase origin/master</span>

<span class="token command">$ git checkout<span class="token parameter"> --theirs</span> -- README</span>

<span class="token command">$ git checkout &lt;id of commit E&gt; -- README</span>

<span class="token command">$ git rebase<span class="token parameter"> --continue</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>17. Usage scenario: Adding old git history to new repository</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-clone.html">git clone</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/53324766" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git clone git@newrepo.com:project.git
cd project
git fetch --all
git remote add original https://oldrepo.com/project-old.git
git fetch original
git rebase --onto original/master 6210d0b3cf20f506ce0bab7849550b38c9effb15 master

<span class="token comment"># Manual resolution of conflict</span>

git rebase --continue
git push --force origin master      # Need to disable branch protection in gitlab
                                    # Re-enable protection in gitlab

git checkout --track origin/upstream
git rebase --onto original/upstream 6210d0b3cf20f506ce0bab7849550b38c9effb15    
<span class="token comment"># Manual resolution of conflict    </span>
git rebase --continue
gir push --force origin upstream

git checkout --track origin/pristine-tar
git rebase --onto original/pristine-tar 6210d0b3cf20f506ce0bab7849550b38c9effb15
git push --force origin pristine-tar
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><strong>18. Usage scenario: How to remove a file from a git commit to push to svn</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-rm.html">git rm</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/2310765" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i HEAD~
git rm /path/to/symlink
git rebase --continue
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>19. Usage scenario: Amending two previous commits in a pull request with a code cleanup</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/61547394" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² Rebase and use <span class="token string">&quot;edit&quot;</span> to amend your commits
git rebase -i HEAD~3
<span class="token comment"># use &quot;e&quot; or &quot;edit&quot; for commits 1 and 2</span>
<span class="token comment"># adjust them as necessary, then git rebase --continue each time</span>

â–² Squash everything into one
git rebase -i HEAD~3
<span class="token comment"># choose &quot;s&quot; or &quot;squash&quot;, or &quot;f&quot; or &quot;fixup&quot; which is like squash but discards commit</span>
<span class="token comment"># messages</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>20. Usage scenario: git: How to refresh a commit that isn't on top</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/26420118" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive abc4321d^

git rebase --continue

git rebase --abort
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>21. Usage scenario: I want to merge master and a branch containing completely different data</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/41931406" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git pull --rebase

git checkout feature-A

git rebase master

git add .
git rebase --continue

git push origin feature-A --force
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>22. Usage scenario: Rollback to remote origin/master, but list all files that have changed first</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/6192623" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i origin/master

git rebase --continue
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>23. Usage scenario: Knowing the file that a number represents</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cat-file.html">git cat-file</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-rev-list.html">git rev-list</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-gc.html">git gc</a>, <a href="/./richen/git-revert.html">git revert</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/38069667" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² As mentioned in this answer you can try
git rev-list --objects --all | grep cbbf81da77a68297dcb6870025c5bb661c63e226

git cat-file -t cbbf81da77a68297dcb6870025c5bb661c63e226

â–² and if it specifies either tree or commit, then something is probably very much corrupt. Otherwise, if it specified either blob or errors out, you can probably just garbage-collect your repository to get rid of it.
git gc --prune

rm .git/objects/cb/bf81da77a68297dcb6870025c5bb661c63e226

â–² If the file was introduced by itself in its own commit:
git revert &lt;COMMIT&gt;

â–² If the file was introduced alongside other changes, find the commit before the offending commit:
git rebase -i &lt;PRIOR COMMIT&gt;

git add -A
git commit --amend
git rebase --continue
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>24. Usage scenario: Master loose Pull Request that moves to new branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/27400287" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase master

//resolve the conflicts then

git rebase --continue

git push origin tweet_overflow

//Then do a pull request to master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>25. Usage scenario: How to resolve conflict during rebase?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/20948397" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --continue
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>26. Usage scenario: How do I avoid spurious merge conflicts when rebasing a branch onto rewritten history?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/59363129" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i master

drop f878084 WIP Add glorious feature
pick 061fc84 Add Feature2

<span class="token comment"># Rebase 522cc62..061fc84 onto 522cc62 (2 commands)</span>
<span class="token comment">#</span>
<span class="token comment"># Commands:</span>
<span class="token comment"># p, pick &lt;commit&gt; = use commit</span>
<span class="token comment"># r, reword &lt;commit&gt; = use commit, but edit the commit message</span>
<span class="token comment"># e, edit &lt;commit&gt; = use commit, but stop for amending</span>
<span class="token comment"># s, squash &lt;commit&gt; = use commit, but meld into previous commit</span>
<span class="token comment"># f, fixup &lt;commit&gt; = like &quot;squash&quot;, but discard this commit's log message</span>
<span class="token comment"># x, exec &lt;command&gt; = run command (the rest of the line) using shell</span>
<span class="token comment"># b, break = stop here (continue rebase later with 'git rebase --continue')</span>
<span class="token comment"># d, drop &lt;commit&gt; = remove commit</span>
<span class="token comment"># l, label &lt;label&gt; = label current HEAD with a name</span>
<span class="token comment"># t, reset &lt;label&gt; = reset HEAD to a label</span>
<span class="token comment"># m, merge [-C &lt;commit&gt; | -c &lt;commit&gt;] &lt;label&gt; [# &lt;oneline&gt;]</span>
<span class="token comment"># .       create a merge commit using the original merge commit's</span>
<span class="token comment"># .       message (or the oneline, if no original merge commit was</span>
<span class="token comment"># .       specified). Use -c &lt;commit&gt; to reword the commit message.</span>
<span class="token comment">#</span>
<span class="token comment"># These lines can be re-ordered; they are executed from top to bottom.</span>
<span class="token comment">#</span>
<span class="token comment"># If you remove a line here THAT COMMIT WILL BE LOST.</span>
<span class="token comment">#</span>
<span class="token comment"># However, if you remove everything, the rebase will be aborted.</span>
<span class="token comment">#</span>
<span class="token comment"># Note that empty commits are commented out</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="abort"><a href="#abort" class="header-anchor">#</a> ğŸ”¹ --abort</h2> <p><strong>1. Usage scenario: How can I merge two commits into one if I already started rebase?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1866Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-log.html">git log</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/2568581" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² Summary
â–² The Fix
<span class="token command">$ git rebase<span class="token parameter"> --abort</span></span>

<span class="token command">$ git log<span class="token parameter"> --pretty</span>=oneline</span>
a931ac7c808e2471b22b5bd20f0cad046b1c5d0d c
b76d157d507e819d7511132bdb5a80dd421d854f b
df239176e1a2ffac927d8b496ea00d5488481db5 a

pick b76d157 b
pick a931ac7 c

<span class="token comment"># Rebase df23917..a931ac7 onto df23917</span>
<span class="token comment">#</span>
<span class="token comment"># Commands:</span>
<span class="token comment">#  p, pick = use commit</span>
<span class="token comment">#  r, reword = use commit, but edit the commit message</span>
<span class="token comment">#  e, edit = use commit, but stop for amending</span>
<span class="token comment">#  s, squash = use commit, but meld into previous commit</span>
<span class="token comment">#  f, fixup = like &quot;squash&quot;, but discard this commit's log message</span>
<span class="token comment">#</span>
<span class="token comment"># If you remove a line here THAT COMMIT WILL BE LOST.</span>
<span class="token comment"># However, if you remove everything, the rebase will be aborted.</span>
<span class="token comment">#</span>

pick   b76d157 b
squash a931ac7 c

<span class="token comment"># This is a combination of 2 commits.</span>
<span class="token comment"># The first commit's message is:</span>

b

<span class="token comment"># This is the 2nd commit message:</span>

c

<span class="token command">$ git log<span class="token parameter"> --pretty</span>=oneline</span>
18fd73d3ce748f2a58d1b566c03dd9dafe0b6b4f b and c
df239176e1a2ffac927d8b496ea00d5488481db5 a

â–² Note About Rewriting History
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p><strong>2. Usage scenario: How to remove selected commit log entries from a Git repository while keeping their changes?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 276Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/495352" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git rebase<span class="token parameter"> -i</span> HEAD~5</span>

<span class="token command">$ git rebase<span class="token parameter"> --abort</span>  </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>3. Usage scenario: Git rebase: conflicts keep blocking progress</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 105Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-init.html">git init</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-status.html">git status</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/4851776" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>$ mkdir failing-merge
$ cd failing-merge
<span class="token command">$ git init</span>
Initialized empty Git repository in $HOME/failing-merge/.git/

$ echo v1.4-alpha-02 &gt; version.txt
<span class="token command">$ git add version.txt</span>
<span class="token command">$ git commit<span class="token parameter"> -m</span> initial</span>
[master (root-commit) 2eef0a5] initial
 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 version.txt

<span class="token command">$ git checkout<span class="token parameter"> -b</span> v4</span>
Switched to a new branch <span class="token string">'v4'</span>
$ echo v1.4-alpha-03 &gt; version.txt
<span class="token command">$ git add version.txt</span>
<span class="token command">$ git commit<span class="token parameter"> -m</span> v4</span>
[v4 1ef8c9b] v4
 1 files changed, 1 insertions(+), 1 deletions(-)

<span class="token command">$ git checkout master</span>
Switched to branch <span class="token string">'master'</span>
$ echo v1.4-alpha-04 &gt; version.txt
<span class="token command">$ git add version.txt</span>
<span class="token command">$ git commit<span class="token parameter"> -m</span> master</span>
[master 7313eb3] master
 1 files changed, 1 insertions(+), 1 deletions(-)

<span class="token command">$ git checkout v4</span>
Switched to branch <span class="token string">'v4'</span>
<span class="token command">$ git rebase master</span>
First, rewinding head to replay your work on top of it...
Applying: v4
Using index info to reconstruct a base tree...
Falling back to patching base and 3-way merge...
Auto-merging version.txt
CONFLICT (content): Merge conflict in version.txt
Recorded preimage for <span class="token string">'version.txt'</span>
Failed to merge in the changes.
Patch failed at 0001 v4

When you have resolved this problem run <span class="token string">&quot;git rebase --continue&quot;</span>.
If you would prefer to skip this patch, instead run <span class="token string">&quot;git rebase --skip&quot;</span>.
To restore the original branch and stop rebasing run <span class="token string">&quot;git rebase --abort&quot;</span>.
$ cat version.txt
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
v1.4-alpha-04
=======
v1.4-alpha-03
&gt;&gt;&gt;&gt;&gt;&gt;&gt; v4

$ echo v1.4-alpha-04 &gt; version.txt
<span class="token command">$ git add version.txt</span>
<span class="token command">$ git rebase<span class="token parameter"> --continue</span> </span>
Applying: v4
No changes - did you forget to use <span class="token string">'git add'</span>?
If there is nothing left to stage, chances are that something else
already introduced the same changes; you might want to skip this patch.

When you have resolved this problem run <span class="token string">&quot;git rebase --continue&quot;</span>.
If you would prefer to skip this patch, instead run <span class="token string">&quot;git rebase --skip&quot;</span>.
To restore the original branch and stop rebasing run <span class="token string">&quot;git rebase --abort&quot;</span>.

<span class="token command">$ git status</span>
<span class="token comment"># Not currently on any branch.</span>
nothing to commit (working directory clean)

<span class="token command">$ git rebase<span class="token parameter"> --skip</span></span>
HEAD is now at 7313eb3 master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br></div></div><p><strong>4. Usage scenario: Git how to exit rebase mode</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 60Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/41052122" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --abort
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>5. Usage scenario: git rebase &quot;deleted by us&quot; and &quot;deleted by them&quot;</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 56Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-log.html">git log</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/27424658" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² Reference documentation
â–² Demonstration
$ ls
a
<span class="token command">$ git log<span class="token parameter"> --oneline</span><span class="token parameter"> --graph</span><span class="token parameter"> --decorate</span><span class="token parameter"> --all</span></span>
* d055cdd (HEAD -&gt; y) Write baz in a-file
| * 487dc8c (x) Write bar in a-file
|/  
* 3fa0da5 (master) Write foo in a-file
<span class="token command">$ git rebase x</span>
First, rewinding head to replay your work on top of it...
Applying: Write baz in a-file
Using index info to reconstruct a base tree...
M   a
Falling back to patching base and 3-way merge...
Auto-merging a
CONFLICT (content): Merge conflict in a
error: Failed to merge in the changes.
Patch failed at 0001 Write baz in a-file
The copy of the patch that failed is found in: .git/rebase-apply/patch

When you have resolved this problem, run <span class="token string">&quot;git rebase --continue&quot;</span>.
If you prefer to skip this patch, run <span class="token string">&quot;git rebase --skip&quot;</span> instead.
To check out the original branch and stop rebasing, run <span class="token string">&quot;git rebase --abort&quot;</span>.
$ cat a
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
bar
=======
baz
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Write baz in a-file
<span class="token command">$ git checkout<span class="token parameter"> --ours</span> a</span>
$ cat a
bar
<span class="token command">$ git checkout<span class="token parameter"> --theirs</span> a</span>
$ cat a
baz

â–² More pedantic analysis
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p><strong>6. Usage scenario: How can I save a git &quot;rebase in progress&quot;?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 15Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-tag.html">git tag</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/41687681" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² Rebase = repeated cherry-pick
...--A1--A2--A3--A4--A5   &lt;-- branchA
          \
           B1--B2--B3   &lt;-- branchB

...--A1--A2--A3--A4--A5   &lt;-- branchA
          \           \
           \           B1<span class="token string">'-B2'</span>-B3'  &lt;-- branchB
            \
             B1--B2--B3   [abandoned]

â–² Conflicts are in the index
â–² But there's only one index
â–² Where you are now
...--A1--A2--A3--A4--A5   &lt;-- branchA
          \           \
           \           B1'  &lt;-- HEAD
            \
             B1--B2--B3   &lt;-- branchB

...--A1--A2--A3--A4--A5   &lt;-- branchA
          \           \
           \           B1<span class="token string">'-B2'</span>  &lt;-- HEAD
            \
             B1--B2--B3   &lt;-- branchB

<span class="token command">$ git branch saveme    # or git tag saveme</span>

...--A1--A2--A3--A4--A5   &lt;-- branchA
          \           \
           \           B1<span class="token string">'-B2'</span>  &lt;-- HEAD, saveme
            \
             B1--B2--B3   &lt;-- branchB

<span class="token command">$ git rebase<span class="token parameter"> --abort</span></span>

...--A1--A2--A3--A4--A5   &lt;-- branchA
          \           \
           \           B1<span class="token string">'-B2'</span>  &lt;-- saveme
            \
             B1--B2--B3   &lt;-- HEAD-&gt;branchB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p><strong>7. Usage scenario: git terminal show &quot;rebase&quot; next to branch name</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/47777319" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --continue

git rebase --abort
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>8. Usage scenario: Undoing local merge if remote gets updated</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/52591122" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² When your push fails, you know the remote must have updated, so your local origin/develop copy is out of date. I like to know what changed before deciding how to deal with it, so I usually run
<span class="token command">$ git fetch</span>

â–² If you decide you want to rebase your commit on top of the latest, you can just use
<span class="token command">$ git pull<span class="token parameter"> --rebase</span></span>

â–² If it<span class="token string">'s not a clean rebase you'</span>ll get into fixing it up by hand - if you think that's going to happen (or it already did and you ran git rebase --abort), you may prefer to reset and re-do the merge by hand:
<span class="token command">$ git reset<span class="token parameter"> --hard</span> origin/develop</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>9. Usage scenario: git rebase, resolve all conflicts manually</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-diff.html">git diff</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/69988351" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² If a merge conflict arises, rebase stops to ask you to resolve the merge conflict. You have to fix them as they come one by one, and then continue the rebase each time a conflict occurs by marking the afflicted files as solved via:
git add &lt;resolved file&gt;

git rebase --continue

â–² If in doubt, you can always hit
git rebase --abort

git diff &lt;branchname&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>10. Usage scenario: git: How to refresh a commit that isn't on top</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/26420118" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive abc4321d^

git rebase --continue

git rebase --abort
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="keep-empty"><a href="#keep-empty" class="header-anchor">#</a> ğŸ”¹ --keep-empty</h2> <p><strong>1. Usage scenario: Clean commit using rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/30376059" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i HEAD~5 --keep-empty
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="reapply-cherry-picks"><a href="#reapply-cherry-picks" class="header-anchor">#</a> ğŸ”¹ --reapply-cherry-picks</h2> <p><strong>1. Usage scenario: How to prevent git doing a fast-forward when rebasing a branch that's been merged, then reverted</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/68016086" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git cherry-pick F..B

git rebase --reapply-cherry-picks --onto master F B
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="skip"><a href="#skip" class="header-anchor">#</a> ğŸ”¹ --skip</h2> <p><strong>1. Usage scenario: Git rebase: conflicts keep blocking progress</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 105Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-init.html">git init</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-status.html">git status</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/4851776" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>$ mkdir failing-merge
$ cd failing-merge
<span class="token command">$ git init</span>
Initialized empty Git repository in $HOME/failing-merge/.git/

$ echo v1.4-alpha-02 &gt; version.txt
<span class="token command">$ git add version.txt</span>
<span class="token command">$ git commit<span class="token parameter"> -m</span> initial</span>
[master (root-commit) 2eef0a5] initial
 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 version.txt

<span class="token command">$ git checkout<span class="token parameter"> -b</span> v4</span>
Switched to a new branch <span class="token string">'v4'</span>
$ echo v1.4-alpha-03 &gt; version.txt
<span class="token command">$ git add version.txt</span>
<span class="token command">$ git commit<span class="token parameter"> -m</span> v4</span>
[v4 1ef8c9b] v4
 1 files changed, 1 insertions(+), 1 deletions(-)

<span class="token command">$ git checkout master</span>
Switched to branch <span class="token string">'master'</span>
$ echo v1.4-alpha-04 &gt; version.txt
<span class="token command">$ git add version.txt</span>
<span class="token command">$ git commit<span class="token parameter"> -m</span> master</span>
[master 7313eb3] master
 1 files changed, 1 insertions(+), 1 deletions(-)

<span class="token command">$ git checkout v4</span>
Switched to branch <span class="token string">'v4'</span>
<span class="token command">$ git rebase master</span>
First, rewinding head to replay your work on top of it...
Applying: v4
Using index info to reconstruct a base tree...
Falling back to patching base and 3-way merge...
Auto-merging version.txt
CONFLICT (content): Merge conflict in version.txt
Recorded preimage for <span class="token string">'version.txt'</span>
Failed to merge in the changes.
Patch failed at 0001 v4

When you have resolved this problem run <span class="token string">&quot;git rebase --continue&quot;</span>.
If you would prefer to skip this patch, instead run <span class="token string">&quot;git rebase --skip&quot;</span>.
To restore the original branch and stop rebasing run <span class="token string">&quot;git rebase --abort&quot;</span>.
$ cat version.txt
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
v1.4-alpha-04
=======
v1.4-alpha-03
&gt;&gt;&gt;&gt;&gt;&gt;&gt; v4

$ echo v1.4-alpha-04 &gt; version.txt
<span class="token command">$ git add version.txt</span>
<span class="token command">$ git rebase<span class="token parameter"> --continue</span> </span>
Applying: v4
No changes - did you forget to use <span class="token string">'git add'</span>?
If there is nothing left to stage, chances are that something else
already introduced the same changes; you might want to skip this patch.

When you have resolved this problem run <span class="token string">&quot;git rebase --continue&quot;</span>.
If you would prefer to skip this patch, instead run <span class="token string">&quot;git rebase --skip&quot;</span>.
To restore the original branch and stop rebasing run <span class="token string">&quot;git rebase --abort&quot;</span>.

<span class="token command">$ git status</span>
<span class="token comment"># Not currently on any branch.</span>
nothing to commit (working directory clean)

<span class="token command">$ git rebase<span class="token parameter"> --skip</span></span>
HEAD is now at 7313eb3 master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br></div></div><p><strong>2. Usage scenario: git rebase &quot;deleted by us&quot; and &quot;deleted by them&quot;</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 56Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-log.html">git log</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/27424658" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² Reference documentation
â–² Demonstration
$ ls
a
<span class="token command">$ git log<span class="token parameter"> --oneline</span><span class="token parameter"> --graph</span><span class="token parameter"> --decorate</span><span class="token parameter"> --all</span></span>
* d055cdd (HEAD -&gt; y) Write baz in a-file
| * 487dc8c (x) Write bar in a-file
|/  
* 3fa0da5 (master) Write foo in a-file
<span class="token command">$ git rebase x</span>
First, rewinding head to replay your work on top of it...
Applying: Write baz in a-file
Using index info to reconstruct a base tree...
M   a
Falling back to patching base and 3-way merge...
Auto-merging a
CONFLICT (content): Merge conflict in a
error: Failed to merge in the changes.
Patch failed at 0001 Write baz in a-file
The copy of the patch that failed is found in: .git/rebase-apply/patch

When you have resolved this problem, run <span class="token string">&quot;git rebase --continue&quot;</span>.
If you prefer to skip this patch, run <span class="token string">&quot;git rebase --skip&quot;</span> instead.
To check out the original branch and stop rebasing, run <span class="token string">&quot;git rebase --abort&quot;</span>.
$ cat a
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
bar
=======
baz
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Write baz in a-file
<span class="token command">$ git checkout<span class="token parameter"> --ours</span> a</span>
$ cat a
bar
<span class="token command">$ git checkout<span class="token parameter"> --theirs</span> a</span>
$ cat a
baz

â–² More pedantic analysis
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p><strong>3. Usage scenario: Undoing a git rebase --skip - reapply a commit during a rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 46Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/21707128" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git rebase<span class="token parameter"> --skip</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>4. Usage scenario: Can't resolve rebase conflict</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 46Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/22816493" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --skip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>5. Usage scenario: git merge changes from another repo</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/26895746" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --skip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="edit-todo"><a href="#edit-todo" class="header-anchor">#</a> ğŸ”¹ --edit-todo</h2> <p><strong>1. Usage scenario: Git reset current rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 10Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-status.html">git status</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/35174113" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² If you just want to redo a merge for a specific file, all you need to do is:
git checkout -m &lt;file&gt;

â–² I run a git status which, as of Git 2.0.0, gives me something like this (only if you are doing an interactive rebase):
interactive rebase in progress; onto 14ed389
Last command done (1 command done):
   pick db2511c Modify file
Next command to do (1 remaining command):
   pick d1c2037 Modify file one more time
  (use <span class="token string">&quot;git rebase --edit-todo&quot;</span> to view and edit)
You are currently rebasing branch <span class="token string">'other'</span> on <span class="token string">'14ed389'</span>.
  (fix conflicts and then run <span class="token string">&quot;git rebase --continue&quot;</span>)
  (use <span class="token string">&quot;git rebase --skip&quot;</span> to skip this patch)
  (use <span class="token string">&quot;git rebase --abort&quot;</span> to check out the original branch)

Unmerged paths:
  (use <span class="token string">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage)
  (use <span class="token string">&quot;git add &lt;file&gt;...&quot;</span> to mark resolution)

        both modified:   file.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>2. Usage scenario: How do I process a specific merge conflict with a given strategy when rebasing?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-status.html">git status</a>, <a href="/./richen/git-restore.html">git restore</a>, <a href="/./richen/git-rev-parse.html">git rev-parse</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/68948140" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² Background
â–² The state at merge conflict
git reset --hard

git cherry-pick -n -X theirs &lt;hash&gt;

<span class="token command">$ git status</span>
interactive rebase in progress; onto 7753c04
Last commands done (2 commands done):
   pick 2cd436b 1
   pick a50fcb5 4
Next commands to do (2 remaining commands):
   pick 7bcbde0 2
   pick d162089 3
  (use <span class="token string">&quot;git rebase --edit-todo&quot;</span> to view and edit)
You are currently rebasing branch <span class="token string">'master'</span> on <span class="token string">'7753c04'</span>.
  (fix conflicts and then run <span class="token string">&quot;git rebase --continue&quot;</span>)
  (use <span class="token string">&quot;git rebase --skip&quot;</span> to skip this patch)
  (use <span class="token string">&quot;git rebase --abort&quot;</span> to check out the original branch)

Unmerged paths:
  (use <span class="token string">&quot;git restore --staged &lt;file&gt;...&quot;</span> to unstage)
  (use <span class="token string">&quot;git add &lt;file&gt;...&quot;</span> to mark resolution)
        both modified:   afile

no changes added to commit (use <span class="token string">&quot;git add&quot;</span> and/or <span class="token string">&quot;git commit -a&quot;</span>)
<span class="token command">$ git reset<span class="token parameter"> --hard</span></span>
HEAD is now at 2cd436b 1
<span class="token command">$ git cherry-pick<span class="token parameter"> -n</span><span class="token parameter"> -X</span> theirs REBASE_HEAD</span>
Auto-merging afile
<span class="token command">$ git rebase<span class="token parameter"> --continue</span></span>
hint: Waiting for your editor to close the file... 

[detached HEAD 8c95399] 4
 1 file changed, 2 insertions(+)
Auto-merging afile
CONFLICT (content): Merge conflict in afile
error: could not apply 7bcbde0... 2
Resolve all conflicts manually, mark them as resolved with
<span class="token string">&quot;git add/rm &lt;conflicted_files&gt;&quot;</span>, then run <span class="token string">&quot;git rebase --continue&quot;</span>.
You can instead skip this commit: run <span class="token string">&quot;git rebase --skip&quot;</span>.
To abort and get back to the state before <span class="token string">&quot;git rebase&quot;</span>, run <span class="token string">&quot;git rebase --abort&quot;</span>.
Could not apply 7bcbde0... 2
<span class="token command">$ git reset<span class="token parameter"> --hard</span></span>
HEAD is now at 8c95399 4
<span class="token command">$ git rev-parse REBASE_HEAD</span>
7bcbde00fb66f08d46b1abc5f718c88d144179c8
<span class="token command">$ git cherry-pick<span class="token parameter"> -n</span><span class="token parameter"> -X</span> theirs REBASE_HEAD</span>
Auto-merging afile
<span class="token command">$ git rebase<span class="token parameter"> --continue</span> </span>
hint: Waiting for your editor to close the file... 

[detached HEAD 5ce59c6] 2
 1 file changed, 1 deletion(-)
Successfully rebased and updated refs/heads/master.

â–² Using the edit command
<span class="token comment"># HEAD commit fixed two bugs, one in file-one.py and one in file-two.py.</span>
<span class="token comment"># Get file-two.py from HEAD~ into the index, leaving the fix in the</span>
<span class="token comment"># working tree.</span>
git restore --source=HEAD~ file-two.py -S
git commit --amend --edit

git add file-two.py
git commit

git rebase --continue

â–² Conclusion
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br></div></div><h2 id="merge"><a href="#merge" class="header-anchor">#</a> ğŸ”¹ --merge</h2> <p><strong>1. Usage scenario: Git rebase --merge with only some of the commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 8Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-tag.html">git tag</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/11250551" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² Saving before the rebase
<span class="token command">$ git tag save-commitC &lt;sha1&gt;</span>

â–² Rebasing without commit C
<span class="token command">$ git rebase<span class="token parameter"> --interactive</span><span class="token parameter"> --merge</span> FETCH_HEAD</span>

pick &lt;sha1&gt; &lt;message&gt;
pick &lt;sha1&gt; &lt;message&gt;
pick &lt;sha1&gt; &lt;message&gt;
...

<span class="token command">$ git push origin master</span>

â–² Reapplying the commit
<span class="token command">$ git cherry-pick save-commitC</span>
   # resolve merge conflicts
<span class="token command">$ git commit</span>
<span class="token command">$ git tag<span class="token parameter"> -d</span> save-commitC</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="s"><a href="#s" class="header-anchor">#</a> ğŸ”¹ -s</h2> <p><strong>1. Usage scenario: How to force a common ancestor in a git merge?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 10Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/4683931" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -s recursive -X subtree=lib --onto master~100 upstream_lib~150 new_upstream_lib
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>2. Usage scenario: Git, how to &quot;force&quot; a squash rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 7Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/39293736" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git reset<span class="token parameter"> --soft</span> HEAD~10</span>

<span class="token command">$ git rebase<span class="token parameter"> -i</span><span class="token parameter"> -s</span> theirs HEAD~10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="strategy"><a href="#strategy" class="header-anchor">#</a> ğŸ”¹ --strategy</h2> <p><strong>1. Usage scenario: How do I select a merge strategy for a git rebase?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 264Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/4273436" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --strategy-option theirs ${branch} # Long option
git rebase -X theirs ${branch} # Short option
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="x"><a href="#x" class="header-anchor">#</a> ğŸ”¹ -X</h2> <p><strong>1. Usage scenario: How do I select a merge strategy for a git rebase?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 264Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/4273436" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --strategy-option theirs ${branch} # Long option
git rebase -X theirs ${branch} # Short option
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>2. Usage scenario: How to force a common ancestor in a git merge?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 10Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/4683931" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -s recursive -X subtree=lib --onto master~100 upstream_lib~150 new_upstream_lib
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>3. Usage scenario: How to deal with a file getting added to a wrong commit in git?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 5Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-add.html">git add</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/11181590" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i COMMIT-OF-FEAT-X^ # notice the ^ at the end

git rebase --continue

git co feat-Y
git add wrong_file
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>4. Usage scenario: Resolve rebase conflicts easily</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/19675951" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git fetch
git rebase -s recursive -X theirs origin/featureBranch_04
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="strategy-option"><a href="#strategy-option" class="header-anchor">#</a> ğŸ”¹ --strategy-option</h2> <p><strong>1. Usage scenario: How do I select a merge strategy for a git rebase?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 264Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/4273436" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --strategy-option theirs ${branch} # Long option
git rebase -X theirs ${branch} # Short option
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="c"><a href="#c" class="header-anchor">#</a> ğŸ”¹ -C</h2> <p><strong>1. Usage scenario: git: exchange the order of two commits before (including) common ancestor of multiple branches</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/31779011" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout &lt;branch-E&gt;
git rebase -i &lt;sha1-A&gt;

git rebase --onto &lt;sha1-B'&gt; &lt;sha1-C&gt; &lt;branch-G&gt;
git rebase --onto &lt;sha1-B'&gt; &lt;sha1-C&gt; &lt;branch-I&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="no-ff"><a href="#no-ff" class="header-anchor">#</a> ğŸ”¹ --no-ff</h2> <p><strong>1. Usage scenario: Merge after reverting the original merge</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 7Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/53121257" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>master
|
* R
|\
| * B

â–² Revert the Revert
master
|
* R'
|
* R
|\
| * B

â–² Rebase the Branch
master
| 
* New merge commit
|\
| * B'
|  \
|   ...
* R
|\
| * B
| ...
|/
* A

<span class="token command">$ git checkout B</span>
<span class="token command">$ git rebase<span class="token parameter"> --no</span>-ff A</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="force-rebase"><a href="#force-rebase" class="header-anchor">#</a> ğŸ”¹ --force-rebase</h2> <p><strong>1. Usage scenario: git - cherry-picked feature commits into new branch, reverted commits, rebase not working as expected</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/22462951" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto dev HEAD~&lt;number of commits you care about&gt; --force-rebase
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>2. Usage scenario: Resolving merge conflicts after reverting a merge commit</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-revert.html">git revert</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/67420454" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout develop
git revert R
git merge feature

git checkout feature
git rebase --force-rebase 1^
git checkout develop
git merge feature
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="f"><a href="#f" class="header-anchor">#</a> ğŸ”¹ -f</h2> <p><strong>1. Usage scenario: Undo line ending changes in Git</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 15Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/21014534" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --whitespace=fix -f &lt;last_good_commit&gt; 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>2. Usage scenario: Revert merge without cancel commits done after</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-push.html">git push</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-revert.html">git revert</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/52167442" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² You can either rewrite branch history, or revert the merge.  Each has pros and cons.
A -- B -- C &lt;--(branch&gt;
           \
  M -- N -- O -- P -- Q &lt;--(master)

â–² If you do want to do a rewrite, rebase is the simplest way.  You'll need either the IDs of commits N and O, or expressions that resolve to commits N and O.  In this example we can use master~3 for N and master~2 for O.
git rebase --onto master~3 master~2 master

A -- B -- C &lt;--(branch&gt;
           \
  M -- N -- O -- P -- Q &lt;--(master@{1})
        \
         P' -- Q` &lt;--(master)

A -- B -- C &lt;--(branch&gt;

M -- N -- P' -- Q` &lt;--(master)

â–² And in fact, after the reflog expires that<span class="token string">'s exactly what will remain (if you don'</span>t do something to preserve the old commits in the meantime).  At this point, to push master you would have to do a force push.  The safest way to do that is
git push --force-with-lease

git checkout master
git revert -m 1 master~2

A -- B -- C &lt;--(branch&gt;
           \
  M -- N -- O -- P -- Q -- !O &lt;--(master)

git rebase -f master~3 branch

A -- B -- C -- D -- E &lt;--(branch&gt;
           \
  M -- N -- O -- P -- Q -- !O -- R -- S &lt;--(master)

git checkout master
git revert master~2
git merge branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p><strong>3. Usage scenario: Git rebase with merged commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/51197124" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto master feature-branch~3 feature-branch

git rebase -f feature-branch~3 feature-branch

git rebase --onto master feature-branch~3 feature-branch

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="fork-point"><a href="#fork-point" class="header-anchor">#</a> ğŸ”¹ --fork-point</h2> <p><strong>1. Usage scenario: Rebase two branches onto another branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 5Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/54024005" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase master feature/2

git branch -f feature/1 feature/2^

git rebase --onto feature/1 feature/1@{1} feature/2

git rebase --fork-point feature/1 feature/2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>2. Usage scenario: git - bring changes of one branch to another with diff parents</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-switch.html">git switch</a>, <a href="/./richen/git-merge-base.html">git merge-base</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/69401478" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --onto anotherBranch $(git merge-base release A) A

<span class="token comment"># or</span>
git switch A
git rebase --onto anotherBranch $(git merge-base --fork-point release) A
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>3. Usage scenario: Append ticket number to all commit messages in git history local and remote</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-switch.html">git switch</a>, <a href="/./richen/git-merge-base.html">git merge-base</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/69432007" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git switch test_branch
git rebase -i $(git merge-base --fork-point main)

git filter-repo --replace-message expressions.txt $(git merge-base --fork-point main)..test_branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>4. Usage scenario: In Git, how do you rebase from your feature branch when the source branch history has been changed?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/60329662" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --fork-point origin/master

git rebase &lt;hash-of-first-feature-commit&gt; &lt;your-feature-branch&gt; --onto origin/master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="no-fork-point"><a href="#no-fork-point" class="header-anchor">#</a> ğŸ”¹ --no-fork-point</h2> <p><strong>1. Usage scenario: git pull --rebase lost commits after coworker's git push --force</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 20Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-merge-base.html">git merge-base</a>, <a href="/./richen/git-log.html">git log</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/42546368" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² TL;DR: it's the fork point code
git rebase @{u}

git rebase --no-fork-point

â–² About git pull (don't use it)
 + 5122532...6f1308f pu         -&gt; origin/pu  (forced update)

â–² Basics of git rebase
            D   &lt;-- master

... &lt;- C &lt;- D   &lt;-- master

...--o--o   &lt;-- branch

A--B--C--D     &lt;-- master
    \
     E--F--G   &lt;-- branch

           E'  &lt;-- (temporary)
          /
A--B--C--D     &lt;-- master
    \
     E--F--G   &lt;-- branch

           E<span class="token string">'-F'</span>-G'  &lt;-- branch
          /
A--B--C--D           &lt;-- master
    \
     E--F--G         [abandoned]

â–² Determining what to copy
A--B--C--D     &lt;-- master
    \
     E--F--G   &lt;-- branch

git checkout branch; git rebase master

git rebase --onto &lt;newbase&gt; &lt;upstream&gt;

â–² The --fork-point option
git merge-base $arg2 $(git log -g --format=%H $arg1)

...--o--B1--B2--B3--C--D    &lt;-- upstream
                 \
                  E--F--G   &lt;-- branch

...--o-------------C--D     &lt;-- upstream
      \
       B1--B2--B3           &lt;-- upstream@{1}
                \
                 E--F--G    &lt;-- branch

...--o-------------C--D     &lt;-- upstream
      \
       B1--B2--B3--E--F--G  &lt;-- branch

$ arg1=origin/next
$ arg2=stash-exp
<span class="token command">$ git merge-base<span class="token parameter"> --all</span> $arg2 $(git log<span class="token parameter"> -g</span><span class="token parameter"> --format</span>=%H $arg1)</span>
3313b78c145ba9212272b5318c111cde12bfef4a
<span class="token command">$ git merge-base<span class="token parameter"> --fork</span>-point $arg1 $arg2</span>
$ echo $?
1

â–² Git before 2.0, and conclusion
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div><h2 id="whitespace"><a href="#whitespace" class="header-anchor">#</a> ğŸ”¹ --whitespace</h2> <p><strong>1. Usage scenario: Undo line ending changes in Git</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 15Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/21014534" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --whitespace=fix -f &lt;last_good_commit&gt; 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="committer-date-is-author-date"><a href="#committer-date-is-author-date" class="header-anchor">#</a> ğŸ”¹ --committer-date-is-author-date</h2> <p><strong>1. Usage scenario: GIT: change commit date to author date</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 66Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/28537098" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --committer-date-is-author-date
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>2. Usage scenario: Rebasing a branch including all its children</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 42Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/5632027" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git branch --format=<span class="token string">'%(refname:short)'</span> --contains C | \
xargs -n 1 \
git rebase --committer-date-is-author-date --onto F C^
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>3. Usage scenario: How to push a file to past time?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-rev-parse.html">git rev-parse</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/24722927" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment">#!/bin/bash</span>
<span class="token comment"># commit</span>
<span class="token comment"># date YYYY-mm-dd HH:MM:SS</span>

commit=<span class="token string">&quot;$1&quot;</span> datecal=<span class="token string">&quot;$2&quot;</span>
temp_branch=<span class="token string">&quot;temp-rebasing-branch&quot;</span>
current_branch=<span class="token string">&quot;$(git rev-parse --abbrev-ref HEAD)&quot;</span>

date_timestamp=$(date -d <span class="token string">&quot;$datecal&quot;</span> +%s)
date_r=$(date -R -d <span class="token string">&quot;$datecal&quot;</span>)
echo <span class="token string">&quot;datecal=$datecal =&gt; date_timestamp=$date_timestamp date_r=$date_r&quot;</span>

if [[ -z <span class="token string">&quot;$commit&quot;</span> ]]; then
    exit 0
fi

git checkout -b <span class="token string">&quot;$temp_branch&quot;</span> <span class="token string">&quot;$commit&quot;</span>
GIT_COMMITTER_DATE=<span class="token string">&quot;$date_timestamp&quot;</span> GIT_AUTHOR_DATE=<span class="token string">&quot;$date_timestamp&quot;</span> git commit --amend --no-edit --date <span class="token string">&quot;$date_r&quot;</span>
git checkout <span class="token string">&quot;$current_branch&quot;</span>
git rebase --autostash --committer-date-is-author-date <span class="token string">&quot;$commit&quot;</span> --onto <span class="token string">&quot;$temp_branch&quot;</span>
git branch -d <span class="token string">&quot;$temp_branch&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>4. Usage scenario: How to rebase feature branch from theme branch to development branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/38653362" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --committer-date-is-author-date --onto dev T4 W`
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>5. Usage scenario: How to add old project files midway to main branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-commit.html">git commit</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/66170061" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git checkout main</span>
<span class="token command">$ git merge Orphan I<span class="token parameter"> --no</span>-commit<span class="token parameter"> --allow</span>-unrelated-histories</span>
$ GIT_AUTHOR_DATE=<span class="token string">'2001-01-31T13:41:20'</span> GIT_COMMITTER_DATE=$GIT_AUTHOR_DATE git commit -m <span class="token string">'Lost and found'</span>
<span class="token command">$ git rebase<span class="token parameter"> -i</span> A<span class="token parameter"> --rebase</span>-merges<span class="token parameter"> --committer</span>-date-is-author-date</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>6. Usage scenario: Git: Remove commit from history without changing anything else (dates, committers)</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-config.html">git config</a>, <a href="/./richen/git-rev-parse.html">git rev-parse</a>, <a href="/./richen/git-show.html">git show</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/68404527" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i --committer-date-is-author-date \
 -x <span class="token string">'git config user.name &quot;$(git show -s --format=%an $(git rev-parse HEAD))&quot;'</span> \
 -x <span class="token string">'git config user.email &quot;$(git show -s --format=%ae $(git rev-parse HEAD))&quot;'</span> \
 @~x
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="ignore-date"><a href="#ignore-date" class="header-anchor">#</a> ğŸ”¹ --ignore-date</h2> <p><strong>1. Usage scenario: Change timestamps while rebasing git branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 158Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/1579676" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --ignore-date
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="i"><a href="#i" class="header-anchor">#</a> ğŸ”¹ -i</h2> <h2 id="interactive"><a href="#interactive" class="header-anchor">#</a> ğŸ”¹ --interactive</h2> <p><strong>1. Usage scenario: How to modify a specified commit?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3606Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/1186549" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git rebase<span class="token parameter"> --interactive</span> </span><span class="token string">'bbc643cd^'</span>

<span class="token command">$ git commit<span class="token parameter"> --all</span><span class="token parameter"> --amend</span><span class="token parameter"> --no</span>-edit</span>

<span class="token command">$ git rebase<span class="token parameter"> --continue</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>2. Usage scenario: How do I properly remove sensitive data pushed to a Git repo?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 61Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-push.html">git push</a>, <a href="/./richen/git-commit.html">git commit</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/29741586" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive dba507c^

git commit --all --amend --no-edit
git rebase --continue

git push -f origin your_branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>3. Usage scenario: Git rebase interactive the last n commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 50Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/41464876" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive &lt;sha1&gt;

git rebase -i cb85072
git rebase -i 5116d42^
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>4. Usage scenario: How to replace a commit with another one in Git rebase?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 24Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/14590183" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout new_feature
git rebase --interactive old_feature
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>5. Usage scenario: How to run tests for all commits during a rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 21Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/21560897" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive --exec <span class="token string">&quot;ant rebuild test&quot;</span> C
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>6. Usage scenario: Git: Copy history of file from one repository to another</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 13Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-tag.html">git tag</a>, <a href="/./richen/git-filter-branch.html">git filter-branch</a>, <a href="/./richen/git-rm.html">git rm</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-replace.html">git replace</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/44782681" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² More generally, if we assume paths shouldn't change and that the files you want could be anywhere in the tree, then you could use filter-branch with an --index-filter.
git filter-branch --index-filter <span class="token string">'git rm --cached --ignore-unmatch each file or *glob* you do NOT want'</span> --prune-empty -- all

cd repo-b
git remote add repo-a path/to/repo-a
git fetch repo-a

... A -- B &lt;--(repo-a/master)
  \
   (repo-a/other-branches-maybe)

B' -- C -- D (master)(origin/master)

<span class="token comment"># be sure you're on master</span>
echo <span class="token string">&quot;$commit-id $graft-id&quot;</span> &gt;&gt; .git/info/grafts
git filter-branch $graft-id..HEAD

â–² A rebase might be a little simpler (assuming a certain level of consistency between the histories) but introduces the possibility that you end up modifying the tree at D.  If you do decide to try a rebase, it would be
git rebase --onto repo-A/master B' master

git rebase --interactive --onto repo-A/master --root master

git tag old-history repo-a/master
git tag new-root B'

git replace new-root old-history
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>7. Usage scenario: How to squash commits on Bitbucket after they have been pushed?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 11Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-push.html">git push</a>, <a href="/./richen/git-merge-base.html">git merge-base</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/34881686" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># Start with the existing personal branch that contains all of your commits.</span>
<span class="token command">$ git checkout {ExistingBranchName}</span>
<span class="token comment"># Create a new personal branch that will be squashed.</span>
<span class="token command">$ git checkout<span class="token parameter"> -b</span> {BranchName}</span>

<span class="token comment"># Replace {BranchName} with your new branch name.</span>
<span class="token comment"># Replace &quot;master&quot; with a different CEF branch as appropriate</span>
<span class="token comment"># (e.g. &quot;2272&quot;, &quot;2171&quot;, etc).</span>
<span class="token command">$ git merge-base {BranchName} master</span>

<span class="token command">$ git rebase<span class="token parameter"> --interactive</span> {hash}</span>

<span class="token comment"># If the branch has already been pushed to the remote repository</span>
<span class="token comment"># you will need to add the  `--force` argument.</span>
git push origin {BranchName}
<span class="token comment"># or git push origin {BranchName} --force</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>8. Usage scenario: How to split every commit by file?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 10Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-diff-tree.html">git diff-tree</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-rev-parse.html">git rev-parse</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/44269268" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² The Script
<span class="token comment">#!/usr/bin/env bash</span>
set -e

SHA=$(git rev-parse --short HEAD)

<span class="token comment"># Change to repo root directory</span>
cd $(git rev-parse --show-toplevel)

git reset HEAD^

git diff-tree --no-commit-id --name-only -r $SHA | while read -r f; do
  git add <span class="token string">&quot;$f&quot;</span>
  GIT_EDITOR=<span class="token string">&quot;echo '0a\n$SHA $f\n\n.\nw' | ed -s&quot;</span> git commit -c $SHA
done

&lt;original SHA&gt; &lt;file name&gt;

&lt;original commit message&gt;

â–² Usage
git rebase --interactive --exec git-split &lt;branch&gt;

p Commit to split
x git-split
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><strong>9. Usage scenario: Use git rebase to retroactively make commits land on a different branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 9Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/4696970" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i &lt;commit 1&gt; master     # -i is a synonym for --interactive
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>10. Usage scenario: Amend comment message from older commits using SHA ID</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 8Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/34269929" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i HEAD~2

git rebase --interactive &lt;your_sha&gt;~1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>11. Usage scenario: How to squash my changes into a single result commit and pick into master branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 7Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/7213160" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive master mybranch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>12. Usage scenario: Amending old commit</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 7Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/17339096" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git rebase<span class="token parameter"> --interactive</span> bffd858~1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>13. Usage scenario: Squash commits after rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 6Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/37459542" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive &lt;commit-id&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>14. Usage scenario: Remove old commits and just keep latest commit on REMOTE</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/55868179" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive master # change master if it is not your base branch

git push --force
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>15. Usage scenario: Editing a past commit message</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-log.html">git log</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/38555583" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git log<span class="token parameter"> --oneline</span></span>
5ebe0d0 foo
66096c8 bar
d83d7a7 *typo*
a9f4c59 baz
...

<span class="token command">$ git rebase<span class="token parameter"> --interactive</span> </span><span class="token string">'d83d7a7^'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>16. Usage scenario: How to flatten merge commit during git rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/46545120" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² If you just start the rebase, as in
git rebase --interactive --onto &lt;new-parent&gt; 2955a39^ 77a706b

  P
 /
o -- X -- o -- o -- O &lt;--(master)
      \
       A -- B --- M -- D &lt;--(branch)
             \   /
               C

â–² If you<span class="token string">'re just moving branch from X to O, then you don'</span>t really need --onto; you can treat master as your upstream because the old branch point is an ancestor of the new parent.
git rebase -i master branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>17. Usage scenario: Squash all commits with commit messages that match a certain pattern</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/45362115" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>chmod +x squash.sh
GIT_EDITOR=./squash.sh git rebase --interactive $COMMIT_ID
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>18. Usage scenario: Rebase or Merge Git branch but Keep Deleted Files</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-diff.html">git diff</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-filter-branch.html">git filter-branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-merge-base.html">git merge-base</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/45110449" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² If my_branch is as linear as you depict - no merge commits on the branch - then you could probably get by with an interactive rebase.
git rebase --interactive master my_branch

git diff --diff-filter D --no-renames --name-only HEAD^

git checkout HEAD^ -- path/and/filename

git add .
git commit --amend

â–² The above rebase command will also complete the rebasing of your work onto the tip of master.  If you don't want that - e.g. if you want to merge the work into master instead - you could do something like
git rebase --interactive `git merge-base my_branch master` my_branch

git checkout `git merge-base master my_branch`
cp all/the/files/that/were/deleted some/path/where/I/can/find/them/later

git filter-branch --tree-filter <span class="token string">'cp some/path/where/I/can/find/them/later all/the/files/that/were/deleted'</span> -- my_branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>19. Usage scenario: How do you easily unmerge a topic branch in Subversion/git?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/6797425" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive --preserve-merges &lt;hash before first merge&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>20. Usage scenario: How do I cleanup Git Commits messed up by Rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/28180750" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git branch old-master master # just so you don't lose anything...
git checkout refactor
git branch -d master
<span class="token comment"># git rebase --interactive D # commit D is the one in refactor branch</span>
git branch master G # commit G is the one in refactor branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>21. Usage scenario: git merging only recent changes from one repository to another which is an unrelated snapshot (not a clone)</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-remote.html">git remote</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/30763413" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">~/A $ git remote add external ssh://path/to/B</span>
<span class="token command">~/A $ git fetch external</span>

<span class="token command">~/A $ git rebase<span class="token parameter"> --interactive</span> A04<span class="token parameter"> --onto</span> external/master</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>22. Usage scenario: How do I merge without losing commit history?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/37198003" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive master 1.3.6
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>23. Usage scenario: git: How to refresh a commit that isn't on top</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/26420118" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive abc4321d^

git rebase --continue

git rebase --abort
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>24. Usage scenario: How to rebase commits in Git (Github)</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/34365135" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git rebase<span class="token parameter"> --interactive</span> &lt;commit_id&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>25. Usage scenario: git squash with a merged file</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-symbolic-ref.html">git symbolic-ref</a>, <a href="/./richen/git-rm.html">git rm</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-clean.html">git clean</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/17507832" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git symbolic-ref HEAD refs/heads/newroot
git rm --cached -r .
git clean -f -d
<span class="token comment"># All commits should be listed then: you can squash them</span>
git rebase --interactive --onto newroot --root master
git branch -d newroot
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>26. Usage scenario: GIT: How to remove a folder and its contents from Initial commit?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/48129743" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive --root 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="r"><a href="#r" class="header-anchor">#</a> ğŸ”¹ -r</h2> <p><strong>1. Usage scenario: Git: add file to old commit being parent of a new branch already merged back?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/65243353" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># -i for --interactive</span>
<span class="token comment"># -r for --rebase-merges</span>
git rebase -i -r A
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="rebase-merges"><a href="#rebase-merges" class="header-anchor">#</a> ğŸ”¹ --rebase-merges</h2> <p><strong>1. Usage scenario: How to add old project files midway to main branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-commit.html">git commit</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/66170061" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git checkout main</span>
<span class="token command">$ git merge Orphan I<span class="token parameter"> --no</span>-commit<span class="token parameter"> --allow</span>-unrelated-histories</span>
$ GIT_AUTHOR_DATE=<span class="token string">'2001-01-31T13:41:20'</span> GIT_COMMITTER_DATE=$GIT_AUTHOR_DATE git commit -m <span class="token string">'Lost and found'</span>
<span class="token command">$ git rebase<span class="token parameter"> -i</span> A<span class="token parameter"> --rebase</span>-merges<span class="token parameter"> --committer</span>-date-is-author-date</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="exec"><a href="#exec" class="header-anchor">#</a> ğŸ”¹ --exec</h2> <p><strong>1. Usage scenario: How to run tests for all commits during a rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 21Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/21560897" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive --exec <span class="token string">&quot;ant rebuild test&quot;</span> C
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>2. Usage scenario: How to split every commit by file?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 10Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-diff-tree.html">git diff-tree</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-rev-parse.html">git rev-parse</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/44269268" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² The Script
<span class="token comment">#!/usr/bin/env bash</span>
set -e

SHA=$(git rev-parse --short HEAD)

<span class="token comment"># Change to repo root directory</span>
cd $(git rev-parse --show-toplevel)

git reset HEAD^

git diff-tree --no-commit-id --name-only -r $SHA | while read -r f; do
  git add <span class="token string">&quot;$f&quot;</span>
  GIT_EDITOR=<span class="token string">&quot;echo '0a\n$SHA $f\n\n.\nw' | ed -s&quot;</span> git commit -c $SHA
done

&lt;original SHA&gt; &lt;file name&gt;

&lt;original commit message&gt;

â–² Usage
git rebase --interactive --exec git-split &lt;branch&gt;

p Commit to split
x git-split
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="root"><a href="#root" class="header-anchor">#</a> ğŸ”¹ --root</h2> <p><strong>1. Usage scenario: Squash the first two commits in Git?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 850Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-tag.html">git tag</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/598788" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i --root master

pick sha1 X
squash sha1 Y
pick sha1 Z

 git checkout &lt;sha1_for_B&gt;

 git reset --soft &lt;sha1_for_A&gt;

 git commit --amend

 git tag tmp

 git checkout master

 git rebase --onto tmp &lt;sha1_for_B&gt;

 git tag -d tmp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>2. Usage scenario: How do I git rebase the first commit?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 486Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/23000315" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i --root
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>3. Usage scenario: How to remove the first commit in git?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 432Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-update-ref.html">git update-ref</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/32765827" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git update-ref -d HEAD

git rebase -i --root

git checkout --orphan &lt;new-branch-name&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>4. Usage scenario: How to copy commits from one Git repo to another?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 235Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a>, <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-status.html">git status</a>, <a href="/./richen/git-log.html">git log</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/37474065" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># add the old repo as a remote repository </span>
git remote add oldrepo https://github.com/path/to/oldrepo

<span class="token comment"># get the old repo commits</span>
git remote update

<span class="token comment"># examine the whole tree</span>
git log --all --oneline --graph --decorate

<span class="token comment"># copy (cherry-pick) the commits from the old repo into your new local one</span>
git cherry-pick sha-of-commit-one
git cherry-pick sha-of-commit-two
git cherry-pick sha-of-commit-three

<span class="token comment"># check your local repo is correct</span>
git log

<span class="token comment"># send your new tree (repo state) to github</span>
git push origin master

<span class="token comment"># remove the now-unneeded reference to oldrepo</span>
git remote remove oldrepo

â–² 1. Update and rebase your local copy
<span class="token comment">#create LICENSE file, edit, add content, save</span>
git add LICENSE
git commit -m <span class="token string">'Initial commit'</span>

git rebase -i --root

git log

â–² 2. Force push your new repo state to github
git push -f origin master

â–² 3. Synchronize collaborators to github
<span class="token comment"># make sure there are no unsaved changes</span>
git status 

<span class="token comment"># pull the latest version from github</span>
git fetch  

<span class="token comment"># move their master branch pointer to the one you published to github.</span>
git reset --hard origin/master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><p><strong>5. Usage scenario: How to use interactive rebase on the first (root) commit of a branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 41Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-init.html">git init</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-log.html">git log</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/30277327" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i --root

<span class="token comment"># Set things up</span>
$ mkdir testgit
$ cd testgit
<span class="token command">$ git init</span>

<span class="token comment"># Make two commits</span>
$ touch README
<span class="token command">$ git add README</span>
<span class="token command">$ git commit<span class="token parameter"> -m</span> </span><span class="token string">&quot;add README&quot;</span>
$ printf <span class="token string">&quot;foo\n&quot;</span> &gt; README
<span class="token command">$ git commit<span class="token parameter"> -am</span> </span><span class="token string">&quot;write 'foo' in README&quot;</span>

<span class="token comment"># Inspect the log</span>
<span class="token command">$ git log<span class="token parameter"> --oneline</span><span class="token parameter"> --decorate</span><span class="token parameter"> --graph</span></span>
* 815b6ca (HEAD -&gt; master) write <span class="token string">'foo'</span> in README
* 630ede6 add README

<span class="token comment"># Rebase (interactively) the root of the current branch: </span>
<span class="token comment"># - Substitute 'squash' for 'pick' on the second line; save and quit the editor.</span>
<span class="token comment"># - Then write the commit message of the resulting commit; save and quit the editor.</span>
<span class="token command">$ git rebase<span class="token parameter"> -i</span><span class="token parameter"> --root</span></span>
[detached HEAD c9003cd] add README; write <span class="token string">'foo'</span> in README
 Date: Sat May 16 17:38:43 2015 +0100
 1 file changed, 1 insertion(+)
 create mode 100644 README
Successfully rebased and updated refs/heads/master.

<span class="token comment"># Inspect the log again</span>
<span class="token command">$ git log<span class="token parameter"> --oneline</span><span class="token parameter"> --decorate</span><span class="token parameter"> --graph</span></span>
* c9003cd (HEAD -&gt; master) add README; write <span class="token string">'foo'</span> in README
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p><strong>6. Usage scenario: Git: Copy history of file from one repository to another</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 13Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-tag.html">git tag</a>, <a href="/./richen/git-filter-branch.html">git filter-branch</a>, <a href="/./richen/git-rm.html">git rm</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-replace.html">git replace</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/44782681" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² More generally, if we assume paths shouldn't change and that the files you want could be anywhere in the tree, then you could use filter-branch with an --index-filter.
git filter-branch --index-filter <span class="token string">'git rm --cached --ignore-unmatch each file or *glob* you do NOT want'</span> --prune-empty -- all

cd repo-b
git remote add repo-a path/to/repo-a
git fetch repo-a

... A -- B &lt;--(repo-a/master)
  \
   (repo-a/other-branches-maybe)

B' -- C -- D (master)(origin/master)

<span class="token comment"># be sure you're on master</span>
echo <span class="token string">&quot;$commit-id $graft-id&quot;</span> &gt;&gt; .git/info/grafts
git filter-branch $graft-id..HEAD

â–² A rebase might be a little simpler (assuming a certain level of consistency between the histories) but introduces the possibility that you end up modifying the tree at D.  If you do decide to try a rebase, it would be
git rebase --onto repo-A/master B' master

git rebase --interactive --onto repo-A/master --root master

git tag old-history repo-a/master
git tag new-root B'

git replace new-root old-history
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>7. Usage scenario: (yet another) modify git history to add a very first commit</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 10Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-symbolic-ref.html">git symbolic-ref</a>, <a href="/./richen/git-rm.html">git rm</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-clean.html">git clean</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/10102637" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git symbolic-ref HEAD refs/heads/base

git rm --cached -r .

git clean -d --force

git commit --allow-empty -m<span class="token string">'Initial Commit'</span>

git cherry-pick 50da9c3

git rebase --onto base --root master

git branch -d base

git branch -D c4-c5branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>8. Usage scenario: Rebase entire development branch onto new master branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 8Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-rm.html">git rm</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/31353842" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² First off, if the inital commit on your develop branch is suitable as the initial commit on the new master branch, then you can simply create the master branch there and you're done:
<span class="token command">$ git branch master &lt;sha1-of-initial-commit-on-develop&gt;</span>

â–² If you don<span class="token string">'t have that luxury, then you'</span>ll need to create a new empty commit that will serve as the initial commit of master.
<span class="token comment"># Create the new master branch</span>
<span class="token command">$ git checkout<span class="token parameter"> --orphan</span> master</span>
<span class="token comment"># Clear the working directory (we want the initial commit to be empty)</span>
<span class="token command">$ git rm<span class="token parameter"> -rf</span> .</span>
<span class="token comment"># Create the initial commit on master</span>
<span class="token command">$ git commit<span class="token parameter"> --allow</span>-empty<span class="token parameter"> -m</span> </span><span class="token string">&quot;Initial commit&quot;</span>
<span class="token comment"># Rebase the entire develop branch onto the new master branch</span>
<span class="token command">$ git rebase<span class="token parameter"> --onto</span> master<span class="token parameter"> --root</span> develop</span>

<span class="token command">$ git branch temp &lt;common-ancestor&gt;</span>
<span class="token command">$ git checkout &lt;topic-branch&gt;</span>
<span class="token command">$ git rebase temp</span>
<span class="token command">$ git branch<span class="token parameter"> -d</span> temp</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>9. Usage scenario: Remove some content of a file from git history</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 6Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/45519115" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>make sure you have a backup
edit thefile
git commit thefile -m <span class="token string">&quot;remove details&quot;</span>
git rebase -i --root
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>10. Usage scenario: How to rebase entire master branch of git repo</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-commit-tree.html">git commit-tree</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-mktree.html">git mktree</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/58003170" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout -B feature
git branch -f master   $(git commit-tree -m <span class="token string">'Initial commit.'</span> `:|git mktree`)
git merge -s ours --allow-unrelated-histories   master

git checkout -B feature
git branch -f master   $(git commit-tree -m <span class="token string">'Initial commit.'</span> `:|git mktree`)
git rebase --root --onto master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>11. Usage scenario: add file in initial commit without creating new commit</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-log.html">git log</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/35797924" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>% git log --oneline
072c8fc Modification 3 to master
9bdb3a2 Modification 2 to master
45f0758 Modification 1 to master
96da320 Initial revision

% git rebase -i --root
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>12. Usage scenario: Remove first commit in repo</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/56030634" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i --root
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>13. Usage scenario: Pushing Only Recent History to a New Git Repo</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/65097589" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i --root
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>14. Usage scenario: Create new branch from specific commit onwards</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/47395389" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² Update - I misread your diagrams and had mixed up the branch names as a result.  Also as torek points out, a <span class="token string">&quot;more correct&quot;</span> reading of your diagrams includes some ambiguities.  I<span class="token string">'ll keep my answer mostly as is (but with branch names straightened out) as I believe it conveys the main principles; and I'</span>ll at a bit about using rebase if you need to further edit branchC history; but for a more detailed answer, see torek's response.
A -- B -- C -- D &lt;--(branchD)

git branch branchC

git reset --hard HEAD~3

A &lt;--(branchD)
 \
  B -- C -- D &lt;--(branchC)

â–² The ambiguities in the before-and-after diagrams in the question do leave open the possibility that I've misunderstood exactly what branchC should include in its history.  If branchC is not meant to include A, then you have to rewrite B, C, and D - and you can most easily do that with git rebase -i.  After creating branchC and moving branchD you could say
git rebase -i branchD^ branchC

â–² Here branchD^ is a possible name for &quot;the commit before A.  If there is such a commit, it may have other names - perhaps master, or certainly its commit ID.  If there is no such commit, then I suppose you could say
git rebase -i --root branchC

x -- B<span class="token string">' -- C'</span> -- D' &lt;--(branchC)
  \
   A &lt;--(branchD)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>15. Usage scenario: how to delete the first commit and make its immediate child the root</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/45250250" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git rebase<span class="token parameter"> -i</span><span class="token parameter"> --root</span></span>

<span class="token command">$ git push origin master</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>16. Usage scenario: git squash with a merged file</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-symbolic-ref.html">git symbolic-ref</a>, <a href="/./richen/git-rm.html">git rm</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-clean.html">git clean</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/17507832" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git symbolic-ref HEAD refs/heads/newroot
git rm --cached -r .
git clean -f -d
<span class="token comment"># All commits should be listed then: you can squash them</span>
git rebase --interactive --onto newroot --root master
git branch -d newroot
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>17. Usage scenario: GIT: How to remove a folder and its contents from Initial commit?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/48129743" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase --interactive --root 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>18. Usage scenario: need to amend first commit or add a new commit before it</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/20637961" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git rebase<span class="token parameter"> -i</span><span class="token parameter"> --root</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>19. Usage scenario: How to start using automatically generated changelog with old commit history present</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/66803485" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i --root
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>20. Usage scenario: Squash commits before hash</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/50536954" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -i --root
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="autosquash"><a href="#autosquash" class="header-anchor">#</a> ğŸ”¹ --autosquash</h2> <p><strong>1. Usage scenario: How can I easily fixup a past commit?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 204Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-commit.html">git commit</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/3828861" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² UPDATED ANSWER
<span class="token command">$ git add ...                           # Stage a fix</span>
<span class="token command">$ git commit<span class="token parameter"> --fixup</span>=a0b1c2d3           # Perform the commit to fix broken a0b1c2d3</span>
<span class="token command">$ git rebase<span class="token parameter"> -i</span><span class="token parameter"> --autosquash</span> a0b1c2d3~1 # Now merge fixup commit into broken commit</span>

â–² ORIGINAL ANSWER
<span class="token comment">#!/usr/bin/env python</span>
from subprocess import call
import sys

<span class="token comment"># Taken from http://stackoverflow.com/questions/377017/test-if-executable-exists-in python</span>
def which(program):
    import os
    def is_exe(fpath):
        return os.path.exists(fpath) and os.access(fpath, os.X_OK)

    fpath, fname = os.path.split(program)
    if fpath:
        if is_exe(program):
            return program
    else:
        for path in os.environ[<span class="token string">&quot;PATH&quot;</span>].split(os.pathsep):
            exe_file = os.path.join(path, program)
            if is_exe(exe_file):
                return exe_file

    return None

if len(sys.argv) != 2:
    print <span class="token string">&quot;Usage: git fixup &lt;commit&gt;&quot;</span>
    sys.exit(1)

git = which(<span class="token string">&quot;git.exe&quot;</span>)
if not git:
    print <span class="token string">&quot;git-fixup: failed to locate git executable&quot;</span>
    sys.exit(2)

broken_commit = sys.argv[1]
if call([git, <span class="token string">&quot;rev-parse&quot;</span>, <span class="token string">&quot;--verify&quot;</span>, <span class="token string">&quot;--quiet&quot;</span>, broken_commit]) != 0:
    print <span class="token string">&quot;git-fixup: %s is not a valid commit&quot;</span> % broken_commit
    sys.exit(3)

if call([git, <span class="token string">&quot;diff&quot;</span>, <span class="token string">&quot;--staged&quot;</span>, <span class="token string">&quot;--quiet&quot;</span>]) == 0:
    print <span class="token string">&quot;git-fixup: cannot fixup past commit; no fix staged.&quot;</span>
    sys.exit(4)

if call([git, <span class="token string">&quot;diff&quot;</span>, <span class="token string">&quot;--quiet&quot;</span>]) != 0:
    print <span class="token string">&quot;git-fixup: cannot fixup past commit; working directory must be clean.&quot;</span>
    sys.exit(5)

call([git, <span class="token string">&quot;commit&quot;</span>, <span class="token string">&quot;--fixup=&quot;</span> + broken_commit])
call([<span class="token string">&quot;set&quot;</span>, <span class="token string">&quot;GIT_EDITOR=true&quot;</span>, <span class="token string">&quot;&amp;&amp;&quot;</span>, git, <span class="token string">&quot;rebase&quot;</span>, <span class="token string">&quot;-i&quot;</span>, <span class="token string">&quot;--autosquash&quot;</span>, broken_commit + <span class="token string">&quot;~1&quot;</span>], shell=True)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><p><strong>2. Usage scenario: How to keep a clean (rebased) history with 'git-flow'?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/51497630" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout feature/my-super-feature
git rebase develop
git checkout develop
git merge feature/my-super-feature

git rebase -i --autosquash HEAD~2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>3. Usage scenario: How to edit an existing commit in git</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-commit.html">git commit</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/68602780" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>&lt;-- older -------------------------------------- newer --&gt;
...  &lt;-commit3  &lt;-commit4  &lt;-commit5  &lt;-...  &lt;-last-commit

           E--F--G--H   [abandoned]
          /
A--B--C--D
          \
           E<span class="token string">'-F'</span>-G<span class="token string">'-H'</span>  &lt;-- main

â–² Branch names and HEAD
...--F--G--H   &lt;-- main (HEAD)

          I--J   &lt;-- develop (HEAD)
         /
...--G--H   &lt;-- main
         \
          K--L   &lt;-- feature

â–² Detached HEAD mode
...--E--F   &lt;-- HEAD
         \
          G--H   &lt;-- main

â–² Rebase uses detached HEAD mode
...--G--H   &lt;-- main
         \
          I--J--K--L   &lt;-- dev (HEAD)

pick &lt;hash-of-J&gt;
pick &lt;hash-of-K&gt;
pick &lt;hash-of-L&gt;

...--G--H   &lt;-- main
         \
          I--J--K--L   &lt;-- dev
           \
            J'  &lt;-- HEAD

...--G--H   &lt;-- main
         \
          I--J--K--L   &lt;-- dev
          |\
          | J'  [abandoned]
           \
            J&quot;  &lt;-- HEAD

...--G--H   &lt;-- main
         \
          I--J--K--L   &lt;-- dev
           \
            J&quot;-K'  &lt;-- HEAD

...--G--H   &lt;-- main
         \
          I--J--K--L   &lt;-- dev
           \
            J&quot;-K'  [abandoned]
             \
              K&quot;  &lt;-- HEAD

...--G--H   &lt;-- main
         \
          I--J--K--L   &lt;-- dev
           \
            J<span class="token string">&quot;-K&quot;</span>-L'  &lt;-- HEAD

â–² This is crazy, it's too hard
â–² Using interactive rebase and fixup/squash
git checkout -b dev

&lt;some hacking&gt;
git commit -m <span class="token string">&quot;prepare for delete&quot;</span>
&lt;delete some stuff&gt;
git commit -m <span class="token string">&quot;delete bad things&quot;</span>
&lt;more hacking&gt;
git commit -m <span class="token string">&quot;add first part of good things&quot;</span>
&lt;more hacking&gt;
git commit -m <span class="token string">&quot;add second part of good things&quot;</span>

&lt;hacking&gt;
git commit -m <span class="token string">&quot;add third part of good things&quot;</span>

git commit --fixup &lt;hash of commit #2&gt;

fixup! delete bad things

git rebase -i --autosquash main
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br></div></div><h2 id="autostash"><a href="#autostash" class="header-anchor">#</a> ğŸ”¹ --autostash</h2> <p><strong>1. Usage scenario: How to push a file to past time?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-rev-parse.html">git rev-parse</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/24722927" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment">#!/bin/bash</span>
<span class="token comment"># commit</span>
<span class="token comment"># date YYYY-mm-dd HH:MM:SS</span>

commit=<span class="token string">&quot;$1&quot;</span> datecal=<span class="token string">&quot;$2&quot;</span>
temp_branch=<span class="token string">&quot;temp-rebasing-branch&quot;</span>
current_branch=<span class="token string">&quot;$(git rev-parse --abbrev-ref HEAD)&quot;</span>

date_timestamp=$(date -d <span class="token string">&quot;$datecal&quot;</span> +%s)
date_r=$(date -R -d <span class="token string">&quot;$datecal&quot;</span>)
echo <span class="token string">&quot;datecal=$datecal =&gt; date_timestamp=$date_timestamp date_r=$date_r&quot;</span>

if [[ -z <span class="token string">&quot;$commit&quot;</span> ]]; then
    exit 0
fi

git checkout -b <span class="token string">&quot;$temp_branch&quot;</span> <span class="token string">&quot;$commit&quot;</span>
GIT_COMMITTER_DATE=<span class="token string">&quot;$date_timestamp&quot;</span> GIT_AUTHOR_DATE=<span class="token string">&quot;$date_timestamp&quot;</span> git commit --amend --no-edit --date <span class="token string">&quot;$date_r&quot;</span>
git checkout <span class="token string">&quot;$current_branch&quot;</span>
git rebase --autostash --committer-date-is-author-date <span class="token string">&quot;$commit&quot;</span> --onto <span class="token string">&quot;$temp_branch&quot;</span>
git branch -d <span class="token string">&quot;$temp_branch&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="none"><a href="#none" class="header-anchor">#</a> ğŸ”¹None</h2> <p><strong>1. Usage scenario: How do I update or sync a forked repository on GitHub?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4895Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/7244456" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># Add the remote, call it &quot;upstream&quot;:</span>

git remote add upstream https://github.com/whoever/whatever.git

<span class="token comment"># Fetch all the branches of that remote into remote-tracking branches</span>

git fetch upstream

<span class="token comment"># Make sure that you're on your master branch:</span>

git checkout master

<span class="token comment"># Rewrite your master branch so that any commits of yours that</span>
<span class="token comment"># aren't already in upstream/master are replayed on top of that</span>
<span class="token comment"># other branch:</span>

git rebase upstream/master

git push -f origin master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>2. Usage scenario: How to rebase local branch onto remote master</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1496Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/7929499" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git fetch origin            # Updates origin/master
git rebase origin/master    # Rebases current branch onto origin/master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>3. Usage scenario: master branch and 'origin/master' have diverged, how to 'undiverge' branches'?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1136Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-log.html">git log</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/2452610" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git log HEAD..origin/master

<span class="token command">$ git merge origin/master</span>

<span class="token command">$ git rebase origin/master</span>

<span class="token command">$ git pull<span class="token parameter"> --rebase</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>4. Usage scenario: Get changes from master into branch in Git</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 947Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/5340773" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout aq
git rebase master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>5. Usage scenario: Update Git branches from master</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 819Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/3877000" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout b1

git merge origin/master

git push origin b1

git fetch
git rebase origin/master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>6. Usage scenario: merge one local branch into another local branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 372Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/38206292" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout Branch3

git merge Branch1

git checkout Branch2
git rebase Branch1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>7. Usage scenario: How do you fix a bad merge, and replay your good commits onto a fixed merge?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 303Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-rm.html">git rm</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/308684" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># create and check out a temporary branch at the location of the bad merge</span>
git checkout -b tmpfix &lt;sha1-of-merge&gt;

<span class="token comment"># remove the incorrectly added file</span>
git rm somefile.orig

<span class="token comment"># commit the amended merge</span>
git commit --amend

<span class="token comment"># go back to the master branch</span>
git checkout master

<span class="token comment"># replant the master branch onto the corrected merge</span>
git rebase tmpfix

<span class="token comment"># delete the temporary branch</span>
git branch -d tmpfix
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>8. Usage scenario: How to apply unmerged upstream pull requests from other forks into my fork?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 290Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/6022366" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² If you don't care about applying also the eventual commits that have been added between the origin and the pull request, you can just rebase the branch on which the pull request was formed
git rebase master otherfork/pullrequest-branch

â–² If you only want the commits in the pull request, identify their SHA1 and do
git cherry-pick &lt;first-SHA1&gt; &lt;second-SHA1&gt; &lt;etc.&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>9. Usage scenario: Git: How to rebase to a specific commit?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 130Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/7744237" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git branch temp master^
git checkout topic
git rebase temp
git branch -d temp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>10. Usage scenario: Git merge develop into feature branch outputs &quot;Already up-to-date&quot; while it's not</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 115Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/33342393" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout develop 
git pull 
git checkout branch-x
git rebase develop

git fetch &amp;&amp; git rebase origin/develop

[alias]
    fr = <span class="token string">&quot;!f() { git fetch &amp;&amp; git rebase origin/&quot;</span>$1<span class="token string">&quot;; }; f&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>11. Usage scenario: Git Update Local Branch with remote Master</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 62Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/34656923" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout master
git pull
git checkout &lt;your-branch&gt;
git merge master

git checkout &lt;your-branch&gt;
git rebase master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>12. Usage scenario: Easiest way to replay commits on new git repository</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 51Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-fetch.html">git fetch</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/5341526" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git remote add temp file:///path/to/old/repo/on/your/machine

git fetch temp

git checkout temp/master -b wip

git rebase master

git checkout master
git merge wip

git branch -d wip
git remote rm temp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>13. Usage scenario: Change branch parent</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 44Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/13235534" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase BranchA
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>14. Usage scenario: git: Merge Branches but Keep Commit History</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 27Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-log.html">git log</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/28552324" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout master
git pull --rebase                             (1)
git checkout new_feature                      
&lt;do a bunch of commits&gt;
git rebase master                             (2)
git checkout master
git merge new_feature                         (3)
git branch -D new_feature                     (4)

&gt; git log --oneline --all -10 --decorate

d34d34c (HEAD, master) Local commit message.
d3434r2 Local commit message.
d234d4c Local commit message.
er3ede3 (origin/master, origin/HEAD) Remote commit message.
sfe3fd3 Remote commit message.

&gt; git log --oneline --all -10 --decorate

fc5773d (new_feature) Local new_feature commit.
9282838 Local new_feature commit.
d34d34c (HEAD, master) Local commit.
d3434r2 Local commit.
d234d4c Local commit.
er3ede3 (origin/master, origin/HEAD) Remote commit.
sfe3fd3 Remote commit.

&gt; git log --oneline --all -10 --decorate

fc5773d (HEAD, new_feature, master) Local new_feature commit.
9282838 Local new_feature commit.
d34d34c Local commit.
d3434r2 Local commit.
d234d4c Local commit.
er3ede3 (origin/master, origin/HEAD) Remote commit.
sfe3fd3 Remote commit.

&gt; git log --oneline --all -10 --decorate

fc5773d (HEAD, master) Local new_feature commit 2
9282838 Local new_feature commit.
d34d34c Local commit.
d3434r2 Local commit.
d234d4c Local commit.
er3ede3 (origin/master, origin/HEAD) Remote commit.
sfe3fd3 Remote commit.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><p><strong>15. Usage scenario: How to edit the commit message of a git merge</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 26Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-commit.html">git commit</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/7599522" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout &lt;sha of merge&gt;
git commit --amend # edit message
git rebase HEAD previous_branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>16. Usage scenario: Rebase remote branch onto master while keeping the remote branch updated</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 22Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/39921349" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git branch -D develop //this will remove your local develop repository
git fetch //update references 
git checkout develop //change to develop branch, but because you deleted, this command will also download the origin/develop
git rebase -p origin/master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>17. Usage scenario: Github pull request without old commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 18Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/5415703" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git remote add upstream (url-for-upstream-repository)
git fetch upstream
git rebase upstream/master
git push -f origin
(do new pull request on website)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>18. Usage scenario: Push a branch of a git repo to a new remote (github), hiding its history</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 17Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-filter-branch.html">git filter-branch</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/4020819" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>o - o - o - o - o - o - o (public)
 \       \           \   \
  x ----- x ----x---- x - x (private)

â–² filter-branch
git branch public master   # create the public branch from current master
git filter-branch --tree-filter ... -- public    # filter it (remove private files with a tree filter)

git branch private-temp master
git filter-branch --tree-filter ... -- private-temp    # remove public files

git branch private private-temp
git merge public

o - o - o - o - o - o - o - o - o - o (public)
                                     \
  x -- x -- x -- x -- x -- x -- x --- x (private)

git checkout -b private &lt;private-SHA1&gt;  # use the SHA1 of the first ancestor of private-temp
                                        # you want to merge something from public into
git merge &lt;public-SHA1&gt;           # merge a corresponding commit of the public branch
git rebase private private-temp   # rebase private-temp to include the merge
git checkout private
git merge &lt;private-SHA1&gt;          # use the next SHA1 on private-temp you want to merge into
                                  # this is a fast-forward merge
git merge &lt;public-SHA1&gt;           # merge something from public
git rebase private private-temp   # and so on and so on...

o - o - o - o - o - o - o - o - o - o (public)
      \              \               \
  x -- x -- x -- x -- x -- x -- x --- x (private)

â–² fake it
git checkout public
git reset --soft &lt;root SHA1&gt;
git commit

o - A' (public)
 \
  o - x - o - x - X - A (public@{1}, the previous position of public)
               \
                x - x (private)

git checkout private
git merge -s ours public
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><p><strong>19. Usage scenario: git rebasing from local branch off remote branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 15Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/16614062" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git fetch

git rebase origin/test

git push origin test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>20. Usage scenario: How to efficiently rebase and push a local git branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 13Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/953034" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git fetch

<span class="token comment"># ensure that everything is committed</span>
<span class="token comment"># perhaps git commit -a is required...</span>

git rebase origin/master


<span class="token comment"># If you don't want to push the very latest commits you might</span>
<span class="token comment"># want to checkout a parent or ancestor of the current commit</span>
<span class="token comment"># to test that the proposed commit passes tests, etc.</span>
<span class="token comment"># e.g. git checkout HEAD~n</span>

<span class="token comment"># push to the remote master</span>
git push origin HEAD:master

<span class="token comment"># if you checked out a parent, go back to the original branch</span>
git checkout mybranch

git push origin HEAD^:master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>21. Usage scenario: Updating a local fork without pushing merge commits?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 13Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/23997347" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># rebase n3690 on top of upstream/master</span>
git checkout n3690
git rebase upstream/master

<span class="token comment"># then</span>
git push -f 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>22. Usage scenario: How to Merge two different Git repositories?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 12Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-clone.html">git clone</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/56597484" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git clone https://first.repo
git remote add second https://second.repo

git fetch second
git checkout second/master
git checkout -b second

git rebase master second

git push -u ...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>23. Usage scenario: Temporarily remove feature from a Git branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 11Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-revert.html">git revert</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/17562205" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git revert &lt;sha of commit that removed the feature&gt;

<span class="token comment"># On master branch</span>
git commit -m <span class="token string">&quot;Remove feature X&quot;</span> # Creates commit 1234567...

<span class="token comment"># Now make feature branch</span>
git checkout -b saved-feature

<span class="token comment"># Immediately put the feature back in the feature branch</span>
git revert 1234567

<span class="token comment"># When you want to sync branch with master, just use rebase.</span>
<span class="token comment"># Rebase allows you to sync frequently, since it doesn't</span>
<span class="token comment"># leave behind a bunch of merge commits.</span>
<span class="token comment">#</span>
<span class="token comment"># From the feature branch:</span>
git rebase master # Resolve any conflicts as needed.

<span class="token comment"># N commits later, you decide it's time to merge the feature</span>
<span class="token comment"># back in.  You can use fast-forward or non-fast-forward merge,</span>
<span class="token comment"># it's up to you.</span>
<span class="token comment">#</span>
<span class="token comment"># Using fast-forward merge with master checked out (assuming</span>
<span class="token comment"># feature branch was just rebased onto master):</span>
git merge saved-feature

<span class="token comment"># Or forcing a merge commit, if that's what you want:</span>
git merge --no-ff saved-feature
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><strong>24. Usage scenario: Rebase without removing old branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 10Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-cherry-pick.html">git cherry-pick</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/55336422" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout your-old-branch
git checkout -b to-be-rebased
git rebase master

git checkout -b to-be-rebased your-old-branch

git checkout -b new-branch master
git cherry-pick master..your-old-branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>25. Usage scenario: How can I keep a git fork updated?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 10Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-remote.html">git remote</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/14534703" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git remote add upstream git@github.com:&lt;OriginalUser&gt;/&lt;OriginalRepo&gt;.git

git fetch upstream
git rebase upstream/master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>26. Usage scenario: How to delete merge commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 10Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/33504534" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git fetch upstream
git checkout master
git rebase upstream/master
git push -f origin master

git fetch upstream
git checkout master
git reset --hard upstream/master
git push -f origin master

git checkout feature
git rebase master
git push -f origin feature
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>27. Usage scenario: &quot;git rebase <branch>&quot; on git svn repo changed remote tracking destination?</branch></strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 9Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-config.html">git config</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-clone.html">git clone</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/13957543" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>$ subgit configure --svn-url &lt;SVNURL&gt; project.git
$ #adjust projectX.git/subgit/{config,authors.txt,passwd} 
$ subgit install project.git
<span class="token command">$ git clone project.git project/</span>

<span class="token command">$ git checkout new_release</span>
<span class="token command">$ git rebase old_release</span>
<span class="token command">$ git push origin new_release</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>28. Usage scenario: How Git select the rebase starting point?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 9Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-rev-list.html">git rev-list</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-rev-parse.html">git rev-parse</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/38686056" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>...&lt;- o &lt;- o &lt;- o &lt;- o
            \
             o &lt;- o &lt;- o &lt;- o

<span class="token command">$ git rev-parse master</span>
08bb3500a2a718c3c78b0547c68601cafa7a8fd9

...--*--*--o--o        &lt;-- master
         \
          o--o--o--o   &lt;-- develop

          o--o          &lt;-- master
         /
...--*--*--o--o--o--o   &lt;-- develop

          o--o        &lt;-- master
         /
...--*--*
         \
          o--o--o--o   &lt;-- develop

â–² This is the heart of the problem that rebase must solve
<span class="token command">$ git branch</span>
  diff-merge-base
  master
  precious
* stash-exp

<span class="token command">$ git rebase master</span>

<span class="token command">$ git rev-list master..develop</span>

â–² Extra wrinkle #1
          o--o
         /
...--*--*
         \
          o--o--o--o

          o--B'
         /
...--*--*
         \
          A--B--C--D

          o--B'
         /    \
...--*--*      A<span class="token string">'-C'</span>-D'
         \
          A--B--C--D

          o--B'          &lt;-- master
         /    \
...--*--*      A<span class="token string">'-C'</span>-D'  &lt;-- develop
         \
          A--B--C--D     [abandoned]

â–² Extra wrinkle #2
â–² What if the two branches have no common commits?
o--o--o--o   &lt;-- master

o--o--o      &lt;-- unrelated

o--o--o--o           &lt;-- master
          \
           o--o--o   &lt;-- unrelated

o--o--o              [abandoned]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><p><strong>29. Usage scenario: How to maintain (mostly) parallel branches with only a few difference</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 9Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/2152967" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git pull
git checkout local
git rebase master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>30. Usage scenario: Squash two Git commits in the middle of history without interactive rebase</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 8Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-rev-parse.html">git rev-parse</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/32891410" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment">#/bin/bash</span>
<span class="token comment"># This command fixesup one commit onto his parent</span>
set -e

<span class="token comment"># We need a commit from the first argument of that command</span>
commit=${1:?No commit given as first argument}
startingbranch=$(git rev-parse --abbrev-ref HEAD)

<span class="token comment"># Checkout the parent of the asked commit</span>
git checkout <span class="token string">&quot;$commit&quot;</span>
git checkout HEAD~

<span class="token comment"># Merge the commit into it's parent, keeping the commit message of the parent</span>
git merge --squash <span class="token string">&quot;$commit&quot;</span>
git add .
git add --update
git commit --amend --no-edit

<span class="token comment"># Store the current commit</span>
newcommit=$(git rev-parse HEAD)

<span class="token comment"># Rebase the starting branch onto the new commit</span>
git checkout <span class="token string">&quot;$startingbranch&quot;</span>
git rebase <span class="token string">&quot;$newcommit&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><strong>31. Usage scenario: How to keep track of origin/master in my dev git branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 6Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/8940346" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout -b myFeature

git push origin myFeature

git checkout master
git pull (this will just fast-forward if you don't make any local changes to master)
git checkout myFeature
git rebase master

git checkout master
git merge myFeature
git push origin master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>32. Usage scenario: How do I re-play my commits of a local Git repository, on top of a project I forked on github.com?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 6Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-mergetool.html">git mergetool</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-clone.html">git clone</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/1458069" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git pull grid master:master</span>
! [rejected]        master     -&gt; master  (non fast forward)

<span class="token comment">#Clone my forked project from github</span>
git clone git@github.com:program247365/mojombo.github.com.git 

<span class="token comment">#Add my repo as a remote repo, with the alias 'grid'</span>
git remote add grid <span class="token string">&quot;path/to/remote/gitrep/with/all/history/unrelated/to/mojombo/&quot;</span> 

<span class="token comment">#Rebase my commits on top of mojombo's</span>
git rebase master grid/master

<span class="token comment">#Switch to the local master branch </span>
git checkout master

<span class="token comment">#Call up my mergetool via git, to start rectifying the conflicts that emerge between my repo, and mojombo's</span>
git mergetool

<span class="token comment">#Push my rebased/combined repo back to Github.com</span>
git push github
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>33. Usage scenario: Rebase a GitHub pull request on top of my newer local commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 6Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/17598706" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git fetch origin refs/pull/1234/head:refs/remotes/pr/1234

git checkout pr/1234
git rebase master

git rebase master pr/1234

git checkout master
git merge --ff-only pr/1234
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>34. Usage scenario: Does git merge reapply commits onto another commit?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 6Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/3029805" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git merge origin</span>
<span class="token command">$ git rebase origin</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>35. Usage scenario: Bitbucket - Syncing Branch with another Branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 6Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/31472284" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># Get the base branch</span>
git checkout v1

<span class="token comment"># Pull in any changes to make sure you have the latest version</span>
git pull

<span class="token comment"># Check out your branch</span>
git checkout v1_adminui

<span class="token comment"># Rebase your changes on top of the v1 changes</span>
git rebase v1

<span class="token comment"># Optionally push your rebased branch</span>
git push origin v1_adminui
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>36. Usage scenario: Change branching point in git</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 5Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/32119176" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout BranchA
git reset --hard Branch2

git checkout BranchA
git rebase Branch2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>37. Usage scenario: how to rebase with git lfs?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 5Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-clone.html">git clone</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/37618784" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># This disables smudging for the 'git clone'</span>
<span class="token comment"># and then calls 'git lfs pull' for you</span>
git lfs clone git@github.com:me/repoB.git
cd repoB
git lfs install --skip-smudge --local # affects only this clone

git fetch repoA
git checkout -b temp repoA/somebranch
git rebase master

git lfs fetch --all repoA
git lfs checkout
git push origin temp

git lfs push --all origin temp
git lfs install --force --local

$ GIT_LFS_SKIP_SMUDGE=1 git pull
<span class="token command">$ git lfs pull</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>38. Usage scenario: How to proceed once git origin was forcefully pushed</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/18960405" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² First do (if you didn't do it already):
git fetch

git checkout master

git rebase origin/master

â–² Alternatively if you didn't have local changes that you were planning to push, you could simply do:
git checkout master
git reset --hard origin/master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>39. Usage scenario: Pull request contains commits from master</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-log.html">git log</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/51617891" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² First, create a backup branch from your branch in case you screw things up. You can do that just by making a new branch from your current one. If you<span class="token string">'re in the branch you'</span>re working on, for example, you can:
git checkout -b my_branch_1_backup

git checkout my_branch_1

git rebase -I commit1

pick commit2
pick commit3
pick commit4

â–² and so on. If you don<span class="token string">'t want commit3 (because it'</span>s already in master), change pick commit3 to drop commit3. There will be a list of other options in a comment in your editor. Once you've fixed up your list of commits, save and exit the editor, and do a:
git log

git rebase origin/master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>40. Usage scenario: how to rebase between two git repositories</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-status.html">git status</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-fetch.html">git fetch</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/42071297" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² Go to your origin repo. Add a new remote with sandbox URL. Then rebase sandbox/feature branch into origin/master branch. Then if conflict occurs resolve it.
<span class="token comment"># go into your origin repo</span>
<span class="token command">$ git checkout master</span>
<span class="token command">$ git remote add sandbox &lt;sanbox-repo-url&gt;</span>
<span class="token command">$ git fetch sandbox</span>

<span class="token command">$ git rebase sandbox/feature</span>

â–² If Conflict occurs, then better resolve conflicts manually. You can also accept origin or sandbox changes by --theirs or --ours flag.
<span class="token command">$ git status        # see the conflicted files (red color)</span>

<span class="token comment"># resolve conflicts</span>
<span class="token command">$ git checkout<span class="token parameter"> --theirs</span> &lt;file-name&gt;    # accept origin changes</span>
Or,
<span class="token command">$ git checkout<span class="token parameter"> --ours</span> &lt;file-name&gt;      # accept sandbox changes   </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>41. Usage scenario: Linearize git history, preserving all commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/49317256" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout -b workingBranch featurebranch // create a new branch and checkout to featurebranch
git rebase 5e0c25f // This create your linear history, instead of merge. You may have to resolve commit for each commits of featurebranch
git checkout master
git reset --hard workingBranch // You will lose the commit d667df5 (HEAD -&gt; master) Modify merged file. If it is not wanted, cherry-pick or rebase again
git branch -D workingBranch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>42. Usage scenario: Impossible to merge branch: refusing to merge unrelated histories</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/61754437" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase origin/master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>43. Usage scenario: In Git, how do I create a commit that's before the oldest commit?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-symbolic-ref.html">git symbolic-ref</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-clean.html">git clean</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/6378465" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git symbolic-ref HEAD refs/heads/newbase
rm .git/index
git clean -dxf

&lt;add the files to the directory&gt;
git add .
git commit -a -m <span class="token string">&quot;New base commit v6.8.1&quot;</span>

git checkout master
git rebase newbase
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>44. Usage scenario: Merge conflicts ruin my commit message while squashing commits</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 4Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/3605710" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase master topic
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>45. Usage scenario: Two branches pull request yeilds entirely different commit histories</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/65866452" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git fetch
git checkout master
git rebase origin/main
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>46. Usage scenario: &quot;Thread safe&quot; git pull or how to avoid &quot;.../.git/index.lock': File exists.&quot;</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-merge.html">git merge</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/55458519" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git fetch &amp;&amp; git merge

git fetch &amp;&amp; git rebase
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>47. Usage scenario: Working with Github repositories (merge, reset) without cloning</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/16055424" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git remote add upstream &lt;url-to-parent&gt;

git fetch upstream

git merge upstream/master

git rebase upstream/master

git push upstream master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>48. Usage scenario: Git force re-merge of one branch into another</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 3Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/42783315" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase origin/master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>49. Usage scenario: How to push to git without merge files</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-fetch.html">git fetch</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/50084769" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git add .
git commit -a -m <span class="token string">&quot;Some comment&quot;</span>

git fetch

git rebase

git push
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>50. Usage scenario: Git rebase my forked branch on upstream master</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-push.html">git push</a>, <a href="/./richen/git-merge.html">git merge</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/21258021" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>
    0] local master   $ branch mybranch off master 
<span class="token command">    1] fork  master   $ git pull<span class="token parameter"> --rebase</span></span>
<span class="token command">    2] local master   $ git pull<span class="token parameter"> --rebase</span></span>
    3] local mybranch $ commit commit commit
<span class="token command">    4] local mybranch $ git rebase master</span>


<span class="token command">    5] local master $ git merge<span class="token parameter"> --ff</span>-only mybranch</span>
<span class="token command">    6] local master $ git push origin</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>51. Usage scenario: gitolite setup reverted changes</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/13470554" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">git@ve-git:~/temp$ git reset<span class="token parameter"> --hard</span> HEAD^</span>
git@ve-git:~/temp$ gitolite push origin -f

<span class="token command">$ git checkout<span class="token parameter"> -b</span> hooksfix origin/master</span>
$ mkdir extra
$ mv hooks extra
<span class="token command">$ git add<span class="token parameter"> --all</span></span>
<span class="token command">$ git commit<span class="token parameter"> -m</span> </span><span class="token string">&quot;moved hooks directory to prevent errors&quot;</span>
<span class="token command">$ git push origin hooksfix:master</span>

<span class="token command">$ git checkout master</span>
<span class="token command">$ git rebase origin/master</span>
<span class="token command">$ git push origin</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>52. Usage scenario: How to revert last commits on branch, merge with other branch and re-add the commits?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/54997876" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout master
git branch new_branch
git reset --hard HEAD~5

    C-D-E new_branch
   /
A-B       master
   \[fork]
    C<span class="token string">'-D'</span>-E<span class="token string">'-F'</span>-G<span class="token string">'-H'</span>-I<span class="token string">'-J'</span>----X' remote/master

git checkout remote/master
git merge -Xours master

    C-D-E new_branch
   /
A-B---------------------------      
   \[fork]                    \
    C<span class="token string">'-D'</span>-E<span class="token string">'-F'</span>-G<span class="token string">'-H'</span>-I<span class="token string">'-J'</span>----X' remote/master, master

git checkout master
git rebase remote/master

A-B---------------------------      
   \[fork]                    \
    C<span class="token string">'-D'</span>-E<span class="token string">'-F'</span>-G<span class="token string">'-H'</span>-I<span class="token string">'-J'</span>----X' remote/master, master
                                \
                                 C-D-E new_branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><strong>53. Usage scenario: Merge bug fixes patches from release branch to master branch</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/60315939" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>Master
 commit1
 commit2 -&gt; release1
 commit3
 commit4


git checkout release1
git checkout -b hotfix

Hotfix
 commit2
 bugfix1

git checkout release1
git merge hotfix

Release1
 Commit1
 commit2
 butfix1

git checkout hotfix
git rebase master

Hotfix
 commit1
 commit2
 commit3
 commit4
 bugfix1

git checkout master
git merge hotfix

Master
 commit1
 commit2
 commit3
 commit4
 bugfix1

git branch -d hotfix
git push -d origin hotfix
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><p><strong>54. Usage scenario: Amending commit HEAD~1 for Gerrit review which shares a file with commit HEAD</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-log.html">git log</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/19897455" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment">#git log --graph --decorate --oneline -n13</span>
* e40f865 (HEAD, master) Change 2
* 120c061 Change 1
* 73a8f97 Initial commit

<span class="token comment">#git branch changeA 120c061</span>
<span class="token comment">#git branch changeB e40f865</span>
<span class="token comment">#git log --graph --decorate --oneline -n13</span>
* e40f865 (HEAD, master, changeB) Change 2
* 120c061 (changeA) Change 1
* 73a8f97 Initial commit

<span class="token comment">#git reset --hard HEAD~2</span>
HEAD is now at 73a8f97 Initial commit

<span class="token comment">#git commit --amend -a</span>
[changeA 93837a4] Change 1
 2 files changed, 3 insertions(+), 2 deletions(-)
<span class="token comment">#git log --graph --decorate --oneline -n13</span>
* 93837a4 (HEAD, changeA) Change 1
* 73a8f97 (master) Initial commit

<span class="token comment">#git checkout changeB</span>
Switched to branch <span class="token string">'changeB'</span>
<span class="token comment">#git log --graph --decorate --oneline -n13</span>
* e40f865 (HEAD, changeB) Change 2
* 120c061 Change 1
* 73a8f97 (master) Initial commit

<span class="token comment">#git rebase 93837a4</span>
First, rewinding head to replay your work on top of it...
Applying: Change 1
Using index info to reconstruct a base tree...
....
....
Applying: Change 2

<span class="token comment">#git log --graph --decorate --oneline -n13</span>
* d3fac58 (HEAD, changeB) Change 2
* 93837a4 (changeA) Change 1
* 73a8f97 (master) Initial commit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p><strong>55. Usage scenario: Git squash commits with same commit message</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/64786149" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase develop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>56. Usage scenario: How to fast-forward a branch to a commit?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/68236688" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># while on `my-branch`</span>
git rebase origin/my-branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>57. Usage scenario: Git Rebase introducing a merge commit</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-commit.html">git commit</a>, <a href="/./richen/git-init.html">git init</a>, <a href="/./richen/git-add.html">git add</a>, <a href="/./richen/git-checkout.html">git checkout</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/59662846" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git init
git checkout -b branchA
touch inita testb1 testb2 testb3 testa1 testa2 testa3
git add inita
git commit -m <span class="token string">&quot;commitInitialA&quot;</span>
git checkout -b branchB
git add testb1
git commit -m <span class="token string">&quot;commitB1&quot;</span>
git add testb2
git commit -m <span class="token string">&quot;commitB2&quot;</span>
git checkout branchA
git add testa1
git commit -m <span class="token string">&quot;commitA1&quot;</span>
git add testa2
git commit -m <span class="token string">&quot;commitA2&quot;</span>

git checkout branchB
git rebase branchA

git add testb3
git commit -m <span class="token string">&quot;commitB3&quot;</span>
git checkout branchA
git add testa3
git commit -m <span class="token string">&quot;commitA3&quot;</span>

git checkout branchB
git rebase branchA

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><strong>58. Usage scenario: Git rebasing a branch that contains no new commits, no â€”force needed for pushing?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-pull.html">git pull</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/54172501" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase origin/v1.0

git pull --rebase
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>59. Usage scenario: how to merge to a local branch after checking out to a previous commit</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-merge.html">git merge</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/11412665" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git checkout VISS

git checkout VISS
git reset --hard 98ea3c

<span class="token comment"># On the new commit you just made:</span>
git rebase VISS

<span class="token comment"># Now take note of what the commit ID is.  Assume I got &quot;abc123&quot;; then:</span>
git checkout VISS
git merge abc123
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>60. Usage scenario: avoid repeat commits when cherry-pick from master to branch, then merge from branch back to master</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/8586393" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase master 1.7
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>61. Usage scenario: How to merge remote master at two commits earlier than current local master</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 2Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-pull.html">git pull</a>, <a href="/./richen/git-reset.html">git reset</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/1467303" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token command">$ git checkout<span class="token parameter"> -b</span> myBranch SHA1_before_your_commits</span>
<span class="token command">$ git rebase master # to replay all your commits on top of this new branch</span>
<span class="token command">$ git checkout master</span>
<span class="token command">$ git reset<span class="token parameter"> --hard</span> SHA1_before_your_commits</span>

<span class="token command">$ git pull original-repo master</span>

 git push --force origin master 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>62. Usage scenario: Having a fork match the original repo when the original master branch can't be merged in?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/4703896" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase origin/master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>63. Usage scenario: Modifying a merge commit after another commits before push</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ None ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/23867107" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git rebase -p @~2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>64. Usage scenario: Contributing multiple separate features to github repository properly via fork</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-remote.html">git remote</a>, <a href="/./richen/git-checkout.html">git checkout</a>, <a href="/./richen/git-push.html">git push</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/37660779" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>â–² If your new feature does not require the changes you made in a previous pull request, then you can just start working on a new branch based on master:
git checkout -b my-next-feature origin/master

â–² If your features do depend on your existing pull request, then base the new branch on your existing PR:
git checkout -b my-next-feature my-first-feature

git remote update
git rebase origin/master
git push -f
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>65. Usage scenario: Combining merges into a single merge</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-branch.html">git branch</a>, <a href="/./richen/git-merge.html">git merge</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/8603298" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git co -b temp_feature feature
git rebase master

git co master
git merge --squash feature

git branch -D feature
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>66. Usage scenario: Show commits affecting a file that are not in a feature branch?</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-log.html">git log</a>, <a href="/./richen/git-config.html">git config</a>, <a href="/./richen/git-merge-base.html">git merge-base</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/40143064" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git log --patch --full-history A..D -- file.txt

git merge-base &lt;mainline&gt; &lt;local&gt;

git rebase master feature
<span class="token comment"># conflicts occur</span>
git log --patch --full-history $(git merge-base master feature)..master -- file.txt

git config --global alias.conflict-commits <span class="token string">&quot;! git log --patch --full-history $(git merge-base $1 $2)..$1 -- $3&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>67. Usage scenario: Howto undo weird merge commit</strong></p> <blockquote><p><font size="2">ğŸ’¯Score: 1Â Â Â Â ğŸ”—Associated commands: [ <a href="/./richen/git-reset.html">git reset</a> ]Â Â Â Â ğŸŒ<a href="https://stackoverflow.com/questions/35435043" target="_blank" rel="noopener noreferrer">Details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></font></p></blockquote> <p><strong>Example:</strong></p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git reset --hard HEAD~1

git rebase other_branch_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/./richen/git-read-tree.html" class="prev">
        git read-tree
      </a></span> <span class="next"><a href="/./richen/git-receive-pack.html">
        git receive-pack
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="./assets/js/app.e311b099.js" defer></script><script src="./assets/js/2.48635caf.js" defer></script><script src="./assets/js/108.ae1670af.js" defer></script>
  </body>
</html>
